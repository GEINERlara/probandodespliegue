{"version":3,"sources":["types/types.js","actions/auth.js","api.js","auth/authContext.js","reducers/authReducer.js","components/SiteNav.js","hooks/useMediaQuery.js","assets/cellphone.svg","assets/account.svg","components/SearchBox.js","components/SiteHeader.js","assets/facebook-icon.svg","assets/instagram-icon.svg","assets/youtube-icon-red.svg","components/SiteFooter.js","layouts/WebLayout.jsx","components/CoverSlider.js","components/ProductCard.js","components/ProductsList.js","components/SubscribeForm.js","components/CallToAction.js","views/Home.js","components/ProductsFilter.js","components/BreadCrumbs.js","components/PageTitle.js","components/Paginator.js","views/Productos.js","components/ProductGallery.js","views/Producto.js","views/Categoria.js","assets/linkedin-icon.svg","components/MemberCard.js","views/Nosotros.js","components/ContactForm.js","views/Contacto.js","views/login/Login.jsx","components/admin/Logout.jsx","layouts/DashboardLayout.jsx","components/admin/CardSections.jsx","actions/ui.js","views/admin/AdminHome.jsx","components/admin/ProductsTable.jsx","views/admin/products/ProductsHome.jsx","components/admin/ProductFeaturesInputList.jsx","components/admin/ProductImagesForm.jsx","components/admin/ProductForm.jsx","firebase/firebase.js","views/admin/products/ProductCreate.jsx","components/admin/ProductDeleteForm.jsx","views/admin/products/ProductEdit.jsx","views/admin/products/ProductShow.jsx","components/admin/UsersTable.jsx","components/admin/CategoriesTable.jsx","components/admin/CategoriesCard.jsx","views/admin/categories/CategoriesHome.jsx","components/admin/UsersCard.jsx","views/admin/users/UsersHome.jsx","routers/DashboardRouter.jsx","routers/PrivateRouter.jsx","routers/PublicRouter.jsx","routers/AppRouter.jsx","App.js","actions/data.js","store/store.js","reducers/dataReducer.js","reducers/uiReducer.js","index.js"],"names":["types","login","name","type","payload","logout","url","options","mode","cache","credentials","headers","redirect","referrerPolicy","getProducts","fetch","getProductsByCategory","id","storeProduct","data","method","body","JSON","stringify","getCategories","addCategory","getUsers","AuthContext","createContext","authReducer","state","action","logged","SiteNav","navClass","isMobile","className","to","useMediaQuery","query","useState","matches","setMatches","useEffect","media","window","matchMedia","listener","addEventListener","removeEventListener","SearchBox","isPageWide","setSearchBoxDeployed","navigate","useNavigate","Boolean","isCollapsed","setIsCollapsed","inputValue","setInputValue","location","useLocation","queryString","parse","search","q","length","document","getElementById","focus","showInput","a","onSubmit","e","preventDefault","placeholder","value","onChange","target","path","handleInputChange","onBlur","onClick","width","height","viewBox","d","SiteHeader","searchBox","showMobileMenu","setShowMobileMenu","src","SiteLogo","alt","AccountIcon","SiteFooter","href","FacebookLogo","InstagramLogo","YoutubeLogo","WebLayout","children","CoverSlider","images","autoplay","arrows","dots","map","image","style","backgroundImage","title","ProductCard","price","slug","toLocaleString","ProductsList","products","h2","product","_id","SubscribeForm","setShowSubscribeForm","setName","email","setEmail","setter","storeSubscriber","then","resp","json","alert","htmlFor","CallToAction","showSubscribeForm","SliderImages","color","HomeDescription","Home","setProducts","localProducts","slice","ProductsFilter","categories","setCategories","showOrderBy","setShowOrderBy","showCategories","setShowCategories","setIsPageWide","searchBoxIsDeployed","setSearchBoxIsDeployed","useSelector","updateWindowWidth","innerWidth","toggleOrderBy","hideLists","toggleCategories","ListLabel","handler","CategoryItems","c","CategoryList","CategoriesMenu","orderByItems","o","console","log","OrderByList","OrderBy","BreadCrumbs","links","link","idx","PageTitle","Paginator","Productos","ProductGallery","mainImage","setMainImage","imagesPaths","setimagesPaths","handleClick","undefined","ImagesListItem","imagePath","Producto","useParams","setImages","setPrice","description","setDescription","features","setFeatures","category_id","setCategory_id","relatedProducts","setRelatedProducts","BreadcrumbsLinks","getProductBySlug","setValues","getRelatedProducts","p","splice","productTitle","featuresList","feature","RelatedProducts","Categoria","props","category","setCategory","localCategory","find","item","MemberCard","img","job","LinkedInIcon","Nosotros","members","AboutSection","MembersList","member","EMAILJS","ContactForm","message","setMessage","sent","setSent","loading","setLoading","idle","setIdle","form","useRef","ref","init","emailjs","sendForm","current","response","err","text","required","Contacto","Login","AContext","useContext","dispatch","useDispatch","LoginForm","password","setPassword","loginUser","ok","tokenReturn","localStorage","setItem","actionContext","checkUser","lastPath","getItem","setLogin","catch","Logout","removeItem","replace","drawerWidth","ResponsiveDrawer","React","mobileOpen","setMobileOpen","ui","auth","handleDrawerToggle","icon","SideBarLink","ListItem","button","ListItemIcon","ListItemText","primary","drawer","Toolbar","Divider","List","index","container","Box","sx","display","CssBaseline","AppBar","position","zIndex","theme","IconButton","edge","mr","sm","Typography","variant","component","flexGrow","size","flexShrink","Drawer","open","onClose","ModalProps","keepMounted","xs","boxSizing","card","section","endpoint","CardContent","fontSize","gutterBottom","toLowerCase","CardActions","Button","CardSections","minWidth","margin","Card","setDashboardTitle","AdminHome","users","setUsers","getFromBkend","endpointQuery","ProductsTableRow","row","TableRow","TableCell","align","status","cursor","ProductsTable","titles","rows","content","setContent","justifyContent","my","TableContainer","Paper","overflowX","Table","TableHead","fontWeight","TableBody","ProductsHome","setProductsCategories","forEach","setDataRef","ProductFeaturesInputList","handleInputBlur","localFeatures","filter","trim","FeaturesList","feat","FormControl","fullWidth","mt","OutlinedInput","endAdornment","InputAdornment","handleDeleteFeature","Input","styled","ImagesFilesAsArray","imagesAsFiles","setImagesAsFiles","handleClearImage","parseInt","copyOfImagesAsFiles","URL","createObjectURL","Fab","top","right","transform","backgroundColor","ProductImagesForm","allInputs","accept","multiple","tempArray","files","push","overflow","whiteSpace","ProductForm","setSlug","setStatus","noValidate","autoComplete","formData","handleSubmit","padding","boxShadow","borderRadius","TextField","label","InputLabel","startAdornment","multiline","Select","labelId","MenuItem","ml","Stack","spacing","direction","handleDiscard","actionButton","firebaseApp","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","storage","getStorage","Create","tempURLs","error","storageRef","uploadBytes","getDownloadURL","Container","maxWidth","ProductDeleteForm","confirm","deleteProduct","Edit","setProduct","getProductById","updateProduct","Show","UpdateModalForm","flags","onDataChanged","stat","setOpen","role","setRole","pswd","setPswd","errors","setErrors","setAlert","useImperativeHandle","handleOpen","Modal","alignItems","border","updateUser","res","reload","flexDirection","Alert","severity","handleSeverity","marginBottom","UsersTableRow","updateModalRef","UsersTable","setslug","updateCategory","CategoriesTableRow","CategoriesTable","FormModal","forwardRef","postCategory","CategoriesCard","addModalRef","mb","repeatPswd","setRepeatPswd","postUser","DashboardRouter","htmlTag","DashboardLayout","element","ProductCreate","ProductEdit","ProductShow","CategoriesHome","UsersHome","PrivateRouter","pathname","PublicRouter","user","AppRouter","App","useReducer","userContext","dispatchContext","isLogged","setIsLogged","isLoading","setIsLoading","Provider","reducers","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","rootElement","ReactDOM","render"],"mappings":"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","file":"static/js/main.88195e93.chunk.js","sourcesContent":["export const types = {\r\n  login: '[auth] Login',\r\n  logout: '[auth] Logout',\r\n  setCategories: '[data] setCategories',\r\n  setDashboardTitle: '[UI] setDashboardTitle'\r\n}","import { types } from \"../types/types\"\r\n\r\nexport const login = (name) => {\r\n  return ({\r\n    type: types.login,\r\n    payload: {\r\n      name,\r\n    }\r\n  })\r\n}\r\n\r\nexport const logout = () => {\r\n  return ({\r\n    type: types.logout,\r\n    payload: {}\r\n  })\r\n}","const url = 'https://react-products-app.herokuapp.com/api/'\r\n\r\nconst options = {\r\n  mode: 'cors',\r\n  cache: 'no-cache',\r\n  credentials: 'same-origin',\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  },\r\n  redirect: 'follow', \r\n  referrerPolicy: 'no-referrer',\r\n}\r\n\r\n// products\r\nconst getProducts = () => {\r\n  return fetch(`${url}products`)\r\n}\r\n\r\nconst getProductById = (id) => {\r\n  return fetch(`${url}products/show/${id}`)\r\n}\r\n\r\nconst getProductBySlug = (slug) => {\r\n  return fetch(`${url}products/show/slug/${slug}`)\r\n}\r\n\r\nconst getProductsByCategory = (id) => {\r\n  return fetch(`${url}products/category/${id}`)\r\n}\r\n\r\nconst getProductsByQuery = (query) => {\r\n  return fetch(`${url}products/search/${query}`)\r\n}\r\n\r\nconst storeProduct = (data) => {\r\n  return fetch(`${url}products/store`, {\r\n    method: 'POST',\r\n    ...options,\r\n    body: JSON.stringify(data)\r\n  })\r\n}\r\n\r\nconst updateProduct = (id, data) => {\r\n  return fetch(`${url}products/update/${id}`, {\r\n    method: 'PUT',\r\n    ...options,\r\n    body: JSON.stringify(data)\r\n  })\r\n}\r\n\r\nconst deleteProduct = (id) => {\r\n  return fetch(`${url}products/delete/${id}`,{\r\n  method: 'DELETE',\r\n  ...options,\r\n  })\r\n}\r\n\r\n// Categories\r\nconst getCategories = () => {\r\n  return fetch(`${url}categories/`)\r\n}\r\n\r\nconst addCategory = (data) => {\r\n  return fetch(`${url}categories/store`, {\r\n    method: 'POST',\r\n    ...options,\r\n    body: JSON.stringify(data)\r\n  })\r\n}\r\n\r\nconst deleteCategory = (id) => {\r\n  return fetch(`${url}categories/destroy/${id}`, {\r\n    method: 'DELETE',\r\n    ...options,\r\n    body: JSON.stringify()\r\n  })\r\n}\r\n\r\nconst updateCategory = (data, id) => {\r\n  return fetch(`${url}categories/update/${id}`, {\r\n    method: 'PUT',\r\n    ...options,\r\n    body: JSON.stringify(data)\r\n  })\r\n}\r\n\r\nconst getUsers = () => {\r\n  return fetch(`${url}users/`)\r\n}\r\n\r\nconst loginUser = (data) => {\r\n  return fetch(`${url}users/login`, {\r\n    method: 'POST',\r\n    ...options,\r\n    body: JSON.stringify(data)\r\n  })\r\n}\r\n\r\nconst postUser = (data = {}) => {\r\n  return fetch(`${url}users/add`, {\r\n    method: 'POST',\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    }\r\n  })\r\n  //TODO: Check this\r\n    //.then(res => res.json())\r\n    //.catch(error => console.error('Error:', error))\r\n    //.then(response => console.log('Success:', response));\r\n}\r\n\r\nconst updateUser = (data = {}, id=\"\") => {\r\n  return fetch(`${url}users/update/${id}`, {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n}\r\n\r\nconst storeSubscriber = (data) => {\r\n  return fetch(`${url}subscribers/store`, {\r\n    method: 'POST',\r\n    ...options,\r\n    body: JSON.stringify(data)\r\n  })\r\n}\r\n\r\nexport {\r\n  // products\r\n  getProducts,\r\n  getProductById,\r\n  getProductBySlug,\r\n  getProductsByCategory,\r\n  getProductsByQuery,\r\n  storeProduct,\r\n  updateProduct,\r\n  deleteProduct,\r\n  // categories\r\n  getCategories,\r\n  addCategory,\r\n  updateCategory,\r\n  deleteCategory,\r\n  // users\r\n  getUsers,\r\n  loginUser,\r\n  postUser,\r\n  updateUser,\r\n  // subscriber\r\n  storeSubscriber,\r\n}","import { createContext } from \"react\";\r\n\r\nexport const AuthContext = createContext()","import { types } from \"../types/types\";\r\n\r\nexport const authReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case types.login:\r\n      return {\r\n        ...action.payload,\r\n        logged: true\r\n      }\r\n    case types.logout:\r\n      return { \r\n        logged: false\r\n      }\r\n  \r\n    default:\r\n      return state;\r\n  }\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Link } from \"react-router-dom\";\r\nimport './SiteNav.css'\r\n\r\n\r\nconst SiteNav = ({isMobile}) => {\r\n\r\n  const navClass = 'site-nav ' + (isMobile ? 'site-nav--responsive' : 'site-nav--primary')\r\n\r\n  return (\r\n    <nav className={ navClass }>\r\n      <ul className=\"site-nav__list\">\r\n        <li className=\"site-nav__item\">\r\n          <Link className=\"site-nav__link\" to=\"/\">Inicio</Link>\r\n        </li>\r\n        <li className=\"site-nav__item\">\r\n          <Link className=\"site-nav__link\" to=\"/productos\">Productos</Link>\r\n        </li>\r\n        <li className=\"site-nav__item\">\r\n          <Link className=\"site-nav__link\" to=\"/nosotros\">Nosotros</Link>\r\n        </li>\r\n        <li className=\"site-nav__item\">\r\n          <Link className=\"site-nav__link\" to=\"/contacto\">Contacto</Link>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  )\r\n}\r\n\r\nSiteNav.propTypes = {\r\n\r\n}\r\n\r\nexport default SiteNav\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport default function useMediaQuery(query) {\r\n    const [matches, setMatches] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const media = window.matchMedia(query);\r\n        if (media.matches !== matches) {\r\n            setMatches(media.matches);\r\n        }\r\n        const listener = () => {\r\n            setMatches(media.matches);\r\n        };\r\n        media.addEventListener('change', listener);\r\n        return () => media.removeEventListener('change', listener);\r\n    }, [matches, query]);\r\n\r\n    return matches;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/cellphone.2fad886d.svg\";","export default __webpack_public_path__ + \"static/media/account.14c2bba6.svg\";","import { useEffect, useState } from 'react'\r\nimport { useLocation, useNavigate } from 'react-router'\r\nimport queryString from \"query-string\";\r\n\r\nimport  './SearchBox.css'\r\n\r\nconst SearchBox = ({ isPageWide, setSearchBoxDeployed = () => {} }) => {\r\n\r\n    const navigate = useNavigate()\r\n    \r\n    const [isCollapsed, setIsCollapsed] = useState(Boolean)\r\n    const [inputValue, setInputValue] = useState(\"\")\r\n    \r\n    const location = useLocation()\r\n    const { q = '' } = queryString.parse(location.search)\r\n\r\n    useEffect(() => {\r\n        if ((!isPageWide) && (!inputValue)) {\r\n            setIsCollapsed(true)\r\n        }\r\n        if ((isPageWide) || (inputValue)) {\r\n            setIsCollapsed(false)\r\n        }\r\n    }, [isPageWide, inputValue])\r\n\r\n    useEffect(() => {\r\n        if (q.length > 0) { \r\n            setInputValue(q)\r\n            setIsCollapsed(false)\r\n            document.getElementById('input-search-box').focus()\r\n        } else {\r\n            setInputValue('')\r\n        }\r\n    }, [q])\r\n\r\n    useEffect(() => {\r\n        if (!isCollapsed) {\r\n            setSearchBoxDeployed(true)\r\n        } else {\r\n            setSearchBoxDeployed(false)\r\n        }\r\n    }, [isCollapsed])\r\n\r\n    const handleInputChange = (e) => {\r\n        setInputValue(e.target.value)\r\n        let path = (e.target.value.length > 0) ? '/productos?q=' : '/productos'\r\n        navigate(`${path}${e.target.value}`)\r\n        document.getElementById('input-search-box').focus()\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n    }\r\n\r\n    const hideInput = (e) => {\r\n        if (isPageWide === false) { \r\n            setIsCollapsed(true)\r\n        }\r\n    }\r\n\r\n    const showInput = async () => {\r\n        await setIsCollapsed(false)\r\n        let input = document.getElementById('input-search-box')\r\n        input.focus()\r\n    }\r\n\r\n    const handleSearchButtonClick = (e) => {\r\n        if ( isCollapsed ) {\r\n            showInput()\r\n        }\r\n    }\r\n\r\n  return (\r\n    <div \r\n        className={ \"search-box\" + ( isCollapsed ? \" search-box--collapsed\" : \"\" ) }\r\n    >\r\n        <form className=\"search-box__form\" onSubmit={ handleSubmit }>\r\n            <input \r\n                id=\"input-search-box\"\r\n                type=\"text\"\r\n                className=\"search-box__input\"\r\n                placeholder=\"Buscar...\"\r\n                name=\"search\"\r\n                value={inputValue}\r\n                onChange={(e)=>handleInputChange(e)}\r\n                onBlur={ hideInput }\r\n            />\r\n            <button\r\n                className=\"search-box__button\"\r\n                type={ isCollapsed ? 'button' : 'submit' }\r\n                onClick={ handleSearchButtonClick }\r\n            >\r\n                <div className=\"search-box__button-icon\">\r\n                    <svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\">\r\n                        <path d=\"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z\" />\r\n                    </svg>\r\n                </div>\r\n                    \r\n            </button>\r\n        </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SearchBox\r\n","import React, { useState } from 'react';\r\nimport SiteNav from './SiteNav'\r\nimport useMediaQuery from '../hooks/useMediaQuery'\r\n\r\nimport './SiteHeader.css'\r\nimport SiteLogo from '../assets/cellphone.svg'\r\nimport AccountIcon from '../assets/account.svg'\r\nimport { Link } from 'react-router-dom';\r\nimport SearchBox from './SearchBox';\r\n\r\nconst SiteHeader = ({ searchBox = false }) => {\r\n    \r\n    const [showMobileMenu, setShowMobileMenu] = useState(false)\r\n\r\n    let isPageWide = useMediaQuery('(min-width: 768px)')\r\n    \r\n    const toggleMobileMenu = () => {\r\n        setShowMobileMenu(!showMobileMenu)\r\n    }\r\n\r\n    return (\r\n        <header className=\"site-header\">\r\n            <div className=\"site-header__container\">\r\n                <div className=\"site-header__box\">\r\n                    <img\r\n                        className=\"site-header__logo\"\r\n                        src={ SiteLogo } \r\n                        alt=\"Logotipo\" \r\n                    />\r\n                    { isPageWide && <SiteNav />}\r\n                </div>\r\n\r\n                <div className=\"site-header__box\">\r\n                { \r\n                    isPageWide ?\r\n                    <>\r\n                            { searchBox ? <SearchBox isPageWide={ isPageWide } /> : ''}\r\n                            \r\n                            <div className=\"site-header__account-icon\">\r\n                                <Link to=\"/login\">\r\n                                    <img src={ AccountIcon } alt=\"User icon\" />\r\n                                </Link>\r\n                            </div>\r\n                        </>\r\n                    :\r\n                        <> \r\n                            { searchBox ? <SearchBox isPageWide={ isPageWide } /> : ''}\r\n                            \r\n                            <div onClick={ toggleMobileMenu } \r\n                                className='responsive-button'>\r\n                                <div className='responsive-button__line'></div>\r\n                                <div className='responsive-button__line'></div>\r\n                                <div className='responsive-button__line'></div>\r\n                            </div>\r\n                            { showMobileMenu ? <SiteNav isMobile={ true } /> : '' }\r\n                        </>\r\n                }\r\n                </div>\r\n            </div>\r\n        </header>\r\n     );\r\n}\r\n\r\nexport default SiteHeader;","export default __webpack_public_path__ + \"static/media/facebook-icon.185411d9.svg\";","export default __webpack_public_path__ + \"static/media/instagram-icon.a14c1530.svg\";","export default __webpack_public_path__ + \"static/media/youtube-icon-red.b889bc25.svg\";","import FacebookLogo from '../assets/facebook-icon.svg'\r\nimport InstagramLogo from '../assets/instagram-icon.svg'\r\nimport YoutubeLogo from '../assets/youtube-icon-red.svg'\r\nimport './SiteFooter.css'\r\n\r\nconst SiteFooter= () => {\r\n    return (\r\n    <div>\r\n        <div className=\"site-footer\">\r\n            <a href=\"/\" className=\"site-footer__logo-link\" target=\"_blank\">\r\n                <img className=\"site-footer__logo-img\" \r\n                    src= {FacebookLogo}\r\n                    alt=\"Facebook\"\r\n                />\r\n            </a>\r\n            <a href=\"/\" className=\"site-footer__logo-link\" target=\"_blank\">\r\n                <img className=\"site-footer__logo-img\" \r\n                    src= {InstagramLogo}\r\n                    alt=\"Instragram\"\r\n                />\r\n            </a>\r\n            <a href=\"/\" className=\"site-footer__logo-link\" target=\"_blank\">\r\n                <img className=\"site-footer__logo-img\" \r\n                    src= {YoutubeLogo}\r\n                    alt=\"Youtube\"\r\n                />\r\n            </a>\r\n        </div>\r\n        <div className=\"site-footer__footprint\">\r\n            <p className=\"site-footer__footprint-text\">\r\n                @2021 - Todos los derechos reservados.\r\n            </p> \r\n         </div>\r\n    </div>\r\n    )\r\n}\r\nexport default SiteFooter\r\n","import React from 'react'\r\nimport SiteHeader from '../components/SiteHeader';\r\nimport SiteFooter from '../components/SiteFooter';\r\n\r\n// Style\r\nimport '../reset.css';\r\nimport './WebLayout.css';\r\n\r\nconst WebLayout = ({ children, searchBox = false }) => {\r\n  return (\r\n    <div className=\"web-layout\">\r\n      <div className=\"web-layout__container\">\r\n        <SiteHeader searchBox={ searchBox } />\r\n        { children }\r\n        <SiteFooter />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default WebLayout\r\n","import React from \"react\";\r\nimport Slider from \"infinite-react-carousel\";\r\nimport \"./CoverSlider.css\";\r\n\r\nconst CoverSlider = ({ images }) => {\r\n  \r\n  const settings = {\r\n    autoplay: true,\r\n    arrows: false,\r\n    dots: true\r\n  };\r\n\r\n  return (\r\n\r\n    <section className=\"slider\">\r\n      <Slider className=\"slider-content\" {...settings}>\r\n        {images.map((image) => {\r\n          return (\r\n            <div \r\n              key={image.id} \r\n              className=\"slider__item-wraper\"\r\n            > \r\n              <div className=\"slider__item\"\r\n                // style={{ backgroundColor: image.color }}>\r\n                style={{ backgroundImage: `url(${image.path})` }}>\r\n\r\n                {/* <img src={image.image} alt={image.title} /> */}\r\n                <p className=\"slider__item-description\">\r\n                  <a href=\"/\">\r\n                      {image.title}\r\n                  </a>\r\n                </p>\r\n\r\n              </div>\r\n            </div>\r\n          )\r\n        })\r\n        }\r\n      </Slider>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default CoverSlider;\r\n","import { Link } from 'react-router-dom';\r\nimport './ProductCard.css'\r\n\r\nfunction ProductCard({ name, images = [], price, slug }) {\r\n\r\n  return (\r\n    <Link to={`/productos/${slug}`}>\r\n      <div className=\"product-card\">\r\n          <h3 className=\"product-card__title\">\r\n              { name }\r\n          </h3>\r\n          <img className=\"product-card__img\" src={ images[0] } alt={ name } />\r\n          <p className=\"product-card__price\">\r\n              {/* $ { price.toLocaleString(\"es-ES\") } */}\r\n              { price ? `$ ${price.toLocaleString(\"es-ES\")}` : '-' }\r\n          </p>\r\n      </div>\r\n    </Link>\r\n  )\r\n}\r\n\r\nexport default ProductCard;\r\n","import ProductCard from \"./ProductCard\"\r\nimport './ProductsList.css'\r\n\r\nconst ProductsList = ({products, h2}) => {\r\n  return (\r\n    <section className=\"products-list box\">\r\n      <div className=\"box__container\">\r\n        { h2 ? <h2 className=\"products-list__title sub-title\">{ h2 }</h2> : '' }\r\n        <div className=\"products-list__grid\">\r\n          { products[0] ? '' : 'No hay productos que coincidan' }\r\n          {\r\n            products.map(product => {\r\n              return <ProductCard \r\n                key={ product._id } \r\n                { ...product }\r\n              />\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default ProductsList\r\n","import { useState } from 'react'\r\nimport { storeSubscriber } from '../api'\r\nimport './SubscribeForm.css'\r\n\r\nconst SubscribeForm = ({ setShowSubscribeForm }) => {\r\n\r\n  const [name, setName] = useState('')\r\n  const [email, setEmail] = useState('')\r\n\r\n  const handleInputChange = (e, setter) => {\r\n    setter(e.target.value)\r\n  }\r\n\r\n  const formSubmit = (e) => {\r\n    e.preventDefault()\r\n\r\n    let data = {\r\n      name,\r\n      email\r\n    }\r\n    // console.log(data)\r\n    // Acá hay que chequear la validación manejar y el envío de los datos\r\n    storeSubscriber(data)\r\n    .then(resp => resp.json())\r\n    .then(data => { \r\n      setShowSubscribeForm(false)\r\n      alert('Suscripción exitosa!')\r\n     })\r\n  }\r\n\r\n  const handleCancelBtn = () => {\r\n    setShowSubscribeForm(false)\r\n  }\r\n\r\n  const validateFields = () => {\r\n    // Acá debería validar los datos\r\n  }\r\n\r\n  return (\r\n    <aside className=\"subscribe-form__wraper box\">\r\n\r\n      <div className=\"subscribe-form\">\r\n        <h2 className=\"subscribe-form__title\">Ingresa tus datos</h2>\r\n        <form onSubmit={ formSubmit }>\r\n          <div className=\"subscribe-form__field\">\r\n            <label htmlFor=\"subscriberName\"\r\n              className=\"subscribe-form__label\">Nombre:</label>\r\n            <input \r\n              id=\"subscriberName\"\r\n              type=\"text\"\r\n              value={ name }\r\n              onChange={ (e) => handleInputChange(e, setName) }\r\n              className=\"subscribe-form__input\"\r\n            />\r\n          </div>\r\n          <div className=\"subscribe-form__field\">\r\n            <label htmlFor=\"subscriberEmail\"\r\n              className=\"subscribe-form__label\">Email:</label>\r\n            <input \r\n              id=\"subscriberEmail\"\r\n              type=\"email\"\r\n              value={ email }\r\n              onChange={ (e) => handleInputChange(e, setEmail) }\r\n              className=\"subscribe-form__input\"\r\n            />\r\n          </div>\r\n          <button \r\n            type=\"submit\"\r\n            className=\"subscribe-form__action-btn button primary-button\"\r\n          >SUBSCRIBIRSE</button>\r\n          <button \r\n            onClick={ handleCancelBtn }\r\n            className=\"subscribe-form__cancel-btn\"\r\n          >X</button>\r\n        </form>\r\n      </div>\r\n\r\n    </aside>\r\n  )\r\n}\r\n\r\nexport default SubscribeForm\r\n","import { useState } from 'react';\r\nimport './CallToAction.css'\r\nimport SubscribeForm from \"./SubscribeForm\";\r\n\r\nconst CallToAction = () => {\r\n\r\n  const [showSubscribeForm, setShowSubscribeForm] = useState(false)\r\n\r\n  const emitClick = () => {\r\n    setShowSubscribeForm(true)\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <section className=\"call-to-action box\">\r\n      <div className=\"call-to-action__container box__container\">\r\n        <p className=\"call-to-action__text\">SUSCRIBETE A NUESTRO NEWSLETTER Y CONSIGUE 15% DE DESCUENTO.</p>\r\n        <button onClick={ emitClick }\r\n          className=\"button primary-button\">SUBSCRIBETE</button>\r\n      </div>\r\n    </section>\r\n    {\r\n      showSubscribeForm ? <SubscribeForm setShowSubscribeForm={ setShowSubscribeForm }/> : ''\r\n    }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CallToAction\r\n","import { useState } from \"react\";\r\nimport WebLayout from \"../layouts/WebLayout\";\r\nimport CoverSlider from \"../components/CoverSlider\";\r\nimport ProductsList from \"../components/ProductsList\";\r\n\r\nimport { getProducts } from \"../api\";\r\n\r\nimport './Home.css'\r\nimport { useEffect } from \"react\";\r\nimport CallToAction from \"../components/CallToAction\";\r\n\r\n\r\nconst SliderImages = [\r\n  {\r\n    id: \"1\",\r\n    title: \"Awesome forest\",\r\n    path: '/images/home/slide-3.jpg',\r\n    color: 'khaki'\r\n  },\r\n  {\r\n    id: \"2\",\r\n    title: \"A litle bird.\",\r\n    path: '/images/home/slide-2.jpg',\r\n    color: 'lightcyan'\r\n  },\r\n  {\r\n    id: \"3\",\r\n    title: \"The best friend.\",\r\n    path: '/images/home/slide-1.jpg',\r\n    color: 'seashell'\r\n  },\r\n];\r\n\r\nconst HomeDescription = () => {\r\n  return (\r\n    <section className=\"home-description box\">\r\n      <div className=\"home-description__container box__container\">\r\n        <h2 className=\"home-description__title sub-title\">DESCRIPCIÓN</h2>\r\n        <div className=\"home_description__content\">\r\n          <img \r\n            className=\"home_description__img\"\r\n            src=\"/images/home/phone.jpg\" \r\n            alt=\"Foto descripción\"\r\n          />\r\n          <p className=\"home_description__text\">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nconst Home = () => {\r\n\r\n  const [products, setProducts] = useState([])\r\n\r\n  useEffect(() => {\r\n    getProducts()\r\n    .then(resp => resp.json())\r\n    .then(resp => {\r\n      let localProducts = resp.slice(0, 6)\r\n      setProducts(localProducts)\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <WebLayout searchBox={ true }>\r\n      <CoverSlider images={SliderImages} />\r\n      <ProductsList \r\n        products={ products } \r\n        h2=\"PRODUCTOS\"\r\n      />\r\n      <HomeDescription />\r\n      <CallToAction />\r\n    </WebLayout>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport './ProductsFilter.css'\r\nimport SearchBox from './SearchBox';\r\n\r\nconst ProductsFilter = () => {\r\n\r\n  // TODO: onClickOutside para listas desplegables.\r\n\r\n  const [categories, setCategories] = useState([])\r\n  const [showOrderBy, setShowOrderBy] = useState(false)\r\n  const [showCategories, setShowCategories] = useState(false)\r\n  const [isPageWide, setIsPageWide] = useState(Boolean)\r\n  const [searchBoxIsDeployed, setSearchBoxIsDeployed] = useState(false)\r\n  \r\n  const data = useSelector(state => state.data)\r\n  \r\n  useEffect(() => {\r\n    if (data?.categories) setCategories(data.categories) \r\n  }, [data])\r\n\r\n\r\n  const orderByOptions = [\r\n    {\r\n      name: 'Menor precio',\r\n      value: 'value-1'\r\n    },\r\n    {\r\n      name: 'Mayor precio',\r\n      value: 'value-2'\r\n    },\r\n    {\r\n      name: 'Alfabeticamente',\r\n      value: 'value-3'\r\n    },\r\n  ];\r\n\r\n  // sets isPageWide\r\n  useEffect(() => {\r\n    const updateWindowWidth = () => {\r\n      (window.innerWidth > 960) ? \r\n        setIsPageWide(true) :\r\n        setIsPageWide(false)\r\n    }; \r\n    updateWindowWidth()\r\n    window.addEventListener('resize', updateWindowWidth)\r\n    return () => { window.removeEventListener('resize', updateWindowWidth) };\r\n  }, [])\r\n\r\n  const toggleOrderBy = () => {\r\n    if (!showOrderBy) hideLists()\r\n    setShowOrderBy(!showOrderBy)\r\n  }\r\n\r\n  const toggleCategories = () => {\r\n    if (!showCategories) hideLists()\r\n    setShowCategories(!showCategories)\r\n  }\r\n\r\n  const hideLists = () => {\r\n    setShowOrderBy(false)\r\n    if (window.innerWidth < 960) setShowCategories(false)\r\n  }\r\n\r\n  const setSearchBoxDeployed = (value) => {\r\n    setSearchBoxIsDeployed(value)\r\n  }\r\n\r\n  const handleOrderBy = (e, value) => {\r\n    console.log('Order by', value)\r\n    hideLists()\r\n  }\r\n\r\n\r\n  const ListLabel = ({name, handler}) => {\r\n    return (\r\n      <label \r\n        className=\"list-label\"\r\n        onClick={ handler }\r\n      >\r\n        <span>{name} </span>\r\n        <i className=\"list-label__icon\">&#x25BC;</i>\r\n      </label>\r\n    )\r\n  }\r\n\r\n  const CategoryItems = categories.map((c) => {\r\n    return (\r\n      <li key={ c.name } className=\"categories-menu__item\">\r\n        <Link \r\n          className=\"categories-menu__link\" \r\n          to={ \"/categorias/\" + c.slug}>\r\n            {c.name}\r\n        </Link>\r\n      </li>\r\n    );\r\n  });\r\n\r\n  const CategoryList = () => {\r\n    if (showCategories || isPageWide) {\r\n      return (\r\n        <ul className=\"categories-menu__list\">\r\n          { CategoryItems }\r\n        </ul>\r\n      );\r\n    }\r\n    else return null;\r\n  } \r\n\r\n  const CategoriesMenu = () => {\r\n    return (\r\n      <nav className=\"categories-menu\">\r\n        <ListLabel \r\n          name={\"Categorías\"} \r\n          handler={ toggleCategories }\r\n        />\r\n        <CategoryList />\r\n      </nav>\r\n    )\r\n  };\r\n\r\n\r\n\r\n  const orderByItems = orderByOptions.map(o => {\r\n    return (\r\n      <li \r\n        key={o.value} \r\n        className=\"order-by__item\"\r\n        onClick={ (e) => { handleOrderBy(e, o.value) } }\r\n      >\r\n        {o.name}\r\n      </li>\r\n    )\r\n  });\r\n\r\n  const OrderByList = () => {\r\n    if (showOrderBy) {\r\n      return (\r\n        <ul className=\"order-by__list\">\r\n          { orderByItems }\r\n        </ul>\r\n      )\r\n    } else return null;\r\n  }\r\n\r\n  const OrderBy = () => {\r\n    return (\r\n      <div className=\"order-by\">\r\n        <ListLabel \r\n          name={ \"Ordenar: \" } \r\n          handler={ toggleOrderBy }\r\n        />\r\n        <OrderByList />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"products-filter\">\r\n      <div className=\"products-filter__container\">\r\n        {\r\n          searchBoxIsDeployed && !isPageWide ?\r\n          ''\r\n          :\r\n          <CategoriesMenu />\r\n        }\r\n        <div className=\"products-filter__box\">\r\n          <SearchBox \r\n            isPageWide={ isPageWide } \r\n            setSearchBoxDeployed={ setSearchBoxDeployed } \r\n          />\r\n          {\r\n            searchBoxIsDeployed && !isPageWide ?\r\n            ''\r\n            :\r\n            <OrderBy />\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductsFilter\r\n","import { Link } from \"react-router-dom\"\r\nimport \"./BreadCrumbs.css\"\r\n\r\nconst BreadCrumbs = ({links = []}) => {\r\n\r\n  return (\r\n    <div className=\"bread-crumbs\">\r\n      <div className=\"bread-crumbs__container\">\r\n        {\r\n          links.map((link, idx) => {\r\n            return (\r\n              <span key={ idx }>\r\n                <Link \r\n                  to={ link.path }\r\n                  className=\"bread-crumbs__link\"\r\n                >\r\n                  { link.name }\r\n                </Link>\r\n                { idx + 1 < links.length ? <span className=\"bread-crumbs__separator\">/</span> : ''}\r\n              </span>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n  \r\nexport default BreadCrumbs\r\n","import \"./PageTitle.css\"\r\n\r\nconst PageTitle = ({title}) => {\r\n    return (\r\n      <div className=\"page-title\">\r\n        <h1 className=\"page-title__text\">\r\n        {title}\r\n        </h1>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  export default PageTitle","import React from 'react'\r\n\r\nconst Paginator = () => {\r\n  return (\r\n    <div>\r\n      Paginator Component\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Paginator\r\n","import React, { useState, useEffect } from 'react'\r\nimport ProductsFilter from '../components/ProductsFilter';\r\nimport BreadCrumbs from '../components/BreadCrumbs';\r\nimport PageTitle from '../components/PageTitle';\r\nimport ProductsList from '../components/ProductsList';\r\nimport Paginator from '../components/Paginator'\r\nimport WebLayout from '../layouts/WebLayout';\r\nimport { getProducts, getProductsByQuery } from \"../api\";\r\nimport { useLocation } from 'react-router';\r\nimport queryString from \"query-string\";\r\n\r\n\r\nconst Productos = () => {\r\n\r\n  const BreadcrumbsLinks = [\r\n    {\r\n      name: 'Inicio',\r\n      path: '/'\r\n    },\r\n    {\r\n      name: 'Productos',\r\n      path: '/productos'\r\n    },\r\n  ]\r\n\r\n  const location = useLocation()\r\n\r\n  const { q = '' } = queryString.parse(location.search)\r\n\r\n  const [products, setProducts] = useState([])\r\n\r\n  useEffect(() => {\r\n    if (q) {\r\n      getProductsByQuery(q)\r\n      .then(resp => resp.json())\r\n      .then(resp => setProducts(resp))\r\n    } else {\r\n      getProducts()\r\n      .then(resp => resp.json())\r\n      .then(resp => setProducts(resp))\r\n    }\r\n  }, [q])\r\n\r\n  return (\r\n    <WebLayout>\r\n      <BreadCrumbs links={ BreadcrumbsLinks }/>\r\n      <PageTitle title=\"PRODUCTOS\"/> \r\n      <ProductsFilter />\r\n      <ProductsList products={ products } />\r\n      {/* <Paginator /> */}\r\n    </WebLayout>\r\n  )\r\n}\r\n\r\nexport default Productos\r\n","import React, { useEffect } from 'react'\r\nimport { useState } from 'react'\r\nimport './ProductGallery.css'\r\n\r\nconst ProductGallery = ({ images }) => {\r\n\r\n  // const [mainImage, setMainImage] = useState('/images/productos/cel.png')\r\n  const [mainImage, setMainImage] = useState('')\r\n  const [imagesPaths, setimagesPaths] = useState(images)\r\n\r\n  useEffect(() => { \r\n    if (images) {\r\n      setMainImage(images[0])\r\n      setimagesPaths(images)\r\n    }\r\n  }, [images])\r\n\r\n  const handleClick = (e) => {\r\n      if (e.target.src !== undefined && e.target.src !== mainImage) {\r\n          setMainImage(e.target.src)\r\n      }\r\n  }\r\n\r\n  const ImagesListItem = ({ imagePath }) => {\r\n    return (\r\n      <li className=\"product-gallery__list-item\">\r\n        <img \r\n          src={ imagePath } \r\n          alt=\"Miniatura\" \r\n          onClick={ handleClick }\r\n          className=\"product-gallery__list-item-img\"\r\n        />\r\n      </li>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"product-gallery\">\r\n        <ul className=\"product-gallery__list\">\r\n            {\r\n              imagesPaths.map((image, idx) => <ImagesListItem key={ idx } imagePath={ image } />)\r\n            }\r\n        </ul>\r\n        <div className=\"product-gallery__main-box\" >\r\n            <img \r\n              className=\"product-gallery__main-image\" \r\n              src={ mainImage } \r\n              alt=\"main\" \r\n            />\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductGallery\r\n","import { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router';\r\nimport { getProductBySlug, getProductsByCategory } from '../api';\r\nimport useMediaQuery from '../hooks/useMediaQuery'\r\nimport BreadCrumbs from '../components/BreadCrumbs'\r\nimport ProductsFilter from '../components/ProductsFilter'\r\nimport ProductsList from '../components/ProductsList'\r\nimport ProductGallery from '../components/ProductGallery';\r\nimport WebLayout from '../layouts/WebLayout';\r\nimport './Producto.css'\r\n\r\n\r\nfunction Producto() {\r\n\r\n    const { slug } = useParams();\r\n    \r\n    const [name, setName] = useState('')\r\n    const [images, setImages] = useState([])\r\n    const [price, setPrice] = useState(0)\r\n    const [description, setDescription] = useState('')\r\n    const [features, setFeatures] = useState([])\r\n    const [category_id, setCategory_id] = useState('')\r\n    const [relatedProducts, setRelatedProducts] = useState([])\r\n\r\n    const isPageWide = useMediaQuery('(min-width: 768px)')\r\n\r\n    const BreadcrumbsLinks = [\r\n        {\r\n            name: 'Inicio',\r\n            path: '/'\r\n        },\r\n        {\r\n            name: 'Productos',\r\n            path: '/productos'\r\n        },\r\n        {\r\n            name: name,\r\n            path: `/productos/${slug}`\r\n        },\r\n    ]    \r\n  \r\n    useEffect(() => {\r\n      getProductBySlug(slug)\r\n      .then(resp => resp.json())\r\n      .then(data => setValues(data) )\r\n    }, [slug])\r\n\r\n    useEffect(() => {\r\n        if (category_id) {\r\n            getRelatedProducts(category_id)\r\n        }\r\n    }, [category_id])\r\n\r\n    const setValues = (p) => {\r\n        setName(p.name)\r\n        setImages(p.images)\r\n        setPrice(p.price)\r\n        setDescription(p.description)\r\n        setFeatures(p.features)\r\n        setCategory_id(p.category_id)\r\n    }\r\n\r\n    const getRelatedProducts = (id) => {\r\n        getProductsByCategory(id)\r\n        .then(resp => resp.json())\r\n        .then(resp => {\r\n            let products = resp.splice(0, 3)\r\n            setRelatedProducts(products)\r\n        })\r\n    }\r\n\r\n    const productTitle = (\r\n        <h1 className=\"product-page__title sub-title\">\r\n            { name }\r\n        </h1>\r\n    )\r\n\r\n    const featuresList = features.map((feature, idx) => (\r\n        <li key={idx}\r\n            className=\"product-page__features-item\"> \r\n            { feature } \r\n        </li>\r\n    ))\r\n\r\n    const RelatedProducts = () => {\r\n        return (\r\n            // <h2 className=\"related-products__title sub-title\">Productos relacionados</h2>\r\n            <ProductsList \r\n                products={ relatedProducts } \r\n                h2=\"Productos relacionados\"\r\n            />\r\n        )\r\n    }\r\n\r\n    return ( \r\n        <WebLayout>\r\n            <BreadCrumbs links={ BreadcrumbsLinks } />\r\n            <ProductsFilter />\r\n            <main className=\"product-page box\">\r\n                <div className=\"box__container\">\r\n\r\n                    <div className=\"product-page__overview\">\r\n                        \r\n                        { isPageWide ? '' : productTitle }\r\n\r\n                        <ProductGallery \r\n                            images={ images } \r\n                        />\r\n                        \r\n                        <div className=\"product-page__info\">\r\n                            \r\n                            { isPageWide ? productTitle : '' }\r\n\r\n                            <p className=\"product-page__description\">\r\n                                { description }\r\n                            </p>\r\n                            <div className=\"product-page__price sub-title\">\r\n                                $ { price.toLocaleString(\"es-ES\") }\r\n                            </div>\r\n                            <button className=\"product-page__button button\">\r\n                                COMPRAR\r\n                            </button>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"product-page__features\">\r\n                        <h2 className=\"product-page__features-title\">CARACTERÍSTICAS:</h2>\r\n                        <ul className=\"product-page__features-list\">\r\n                            {featuresList}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </main>\r\n\r\n            <RelatedProducts />\r\n        </WebLayout>\r\n    );\r\n}\r\n\r\nexport default Producto;\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router';\r\nimport { getCategories, getProductsByCategory } from '../api';\r\nimport PageTitle from '../components/PageTitle';\r\nimport ProductsFilter from '../components/ProductsFilter';\r\nimport ProductsList from '../components/ProductsList'\r\nimport Paginator from '../components/Paginator'\r\nimport BreadCrumbs from '../components/BreadCrumbs';\r\nimport WebLayout from '../layouts/WebLayout';\r\n\r\nconst Categoria = props => {\r\n\r\n  const { slug } = useParams()\r\n\r\n  const [category, setCategory] = useState({})\r\n  const [products, setProducts] = useState([])\r\n\r\n  const BreadcrumbsLinks = [\r\n      {\r\n          name: 'Inicio',\r\n          path: '/'\r\n      },\r\n      {\r\n          name: 'Categorías',\r\n          path: '/productos'\r\n      },\r\n      {\r\n          name: category.name,\r\n          path: `/categorias/${slug}`\r\n      },\r\n  ] \r\n\r\n  useEffect(() => {\r\n    getCategories()\r\n    .then(resp => resp.json())\r\n    .then(data => {\r\n      let localCategory = data.find(item => {\r\n        return item.slug === slug\r\n      })\r\n      setCategory(localCategory)\r\n      getProducts(localCategory._id)\r\n    })\r\n  }, [slug])\r\n\r\n  const getProducts = (id) => {\r\n    getProductsByCategory(id)\r\n    .then(resp => resp.json())\r\n    .then(data => setProducts(data))\r\n  }\r\n\r\n  return (\r\n    <WebLayout>\r\n      <BreadCrumbs links={ BreadcrumbsLinks } />\r\n      <PageTitle title={ category.name }/>\r\n      <ProductsFilter />\r\n      <ProductsList products={ products } />\r\n      <Paginator />\r\n    </WebLayout>\r\n  )\r\n}\r\n\r\nexport default Categoria","export default __webpack_public_path__ + \"static/media/linkedin-icon.15771fd1.svg\";","import LinkedInIcon from '../assets/linkedin-icon.svg'\r\nimport './MemberCard.css'\r\n\r\nconst MemberCard = ({name, img, job}) => {\r\n  return (\r\n    <article className=\"member-card\">\r\n      <div className=\"member-card__photo\">\r\n        <img src={ img.src } alt={ img.alt } \r\n           className=\"member-card__photo-img\"/>\r\n      </div>\r\n      <div className=\"member-card__text\">\r\n        <h3 className=\"member-card__name\">{ name }</h3>\r\n        <div className=\"member-card__job\">\r\n          <h4 className=\"member-card__job-name\">{ job.name }</h4>\r\n          <a className=\"member-card__job-link\" href={ job.url } >\r\n            <img \r\n              src={ LinkedInIcon } \r\n              alt=\"LinkedIn icon\" \r\n              className=\"member-card__job-icon\"\r\n            />\r\n          </a>\r\n        </div>\r\n      </div>\r\n      \r\n    </article>\r\n  )\r\n}\r\n\r\nexport default MemberCard\r\n","import React from 'react'\r\nimport PageTitle from '../components/PageTitle'\r\nimport MemberCard from '../components/MemberCard'\r\nimport WebLayout from '../layouts/WebLayout';\r\nimport './Nosotros.css'\r\n\r\nconst Nosotros = props => {\r\n\r\n  const members = [\r\n    {\r\n      name: 'Juan Peréz 1',\r\n      img: {\r\n        src: '/images/nosotros/mono.jpg',\r\n        alt: 'Juan Perez trabajando.'\r\n      },\r\n      job: {\r\n        name: 'Desarrollador Web Full Stack',\r\n        url: '/'\r\n      }\r\n    },\r\n    {\r\n      name: 'Juan Peréz 2',\r\n      img: {\r\n        src: '/images/nosotros/mono.jpg',\r\n        alt: 'Juan Perez trabajando.'\r\n      },\r\n      job: {\r\n        name: 'Desarrollador Web Full Stack',\r\n        url: '/'\r\n      }\r\n    },\r\n    {\r\n      name: 'Juan Peréz 3',\r\n      img: {\r\n        src: '/images/nosotros/mono.jpg',\r\n        alt: 'Juan Perez trabajando.'\r\n      },\r\n      job: {\r\n        name: 'Desarrollador Web Full Stack',\r\n        url: '/'\r\n      }\r\n    },\r\n    {\r\n      name: 'Juan Peréz 4',\r\n      img: {\r\n        src: '/images/nosotros/mono.jpg',\r\n        alt: 'Juan Perez trabajando.'\r\n      },\r\n      job: {\r\n        name: 'Desarrollador Web Full Stack',\r\n        url: '/'\r\n      }\r\n    },\r\n    {\r\n      name: 'Juan Peréz 5',\r\n      img: {\r\n        src: '/images/nosotros/mono.jpg',\r\n        alt: 'Juan Perez trabajando.'\r\n      },\r\n      job: {\r\n        name: 'Desarrollador Web Full Stack',\r\n        url: '/'\r\n      }\r\n    },\r\n  ]\r\n\r\n  const AboutSection = () => {\r\n    return (\r\n      <section className=\"about-section box\">\r\n        <div className=\"box__container\">\r\n          <h2 className=\"about-section__title\">QUIÉNES SOMOS</h2>\r\n          <img \r\n            className=\"about-section__img\"\r\n            src=\"/images/nosotros/monos.jpg\" \r\n            alt=\"Quiénes somos\" \r\n          />\r\n          <p className=\"about-section__text\">Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of \"de Finibus Bonorum et Malorum\" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, \"Lorem ipsum dolor sit amet..\", comes from a line in section 1.10.32.</p>\r\n          <p className=\"about-section__text\">The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from \"de Finibus Bonorum et Malorum\" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.</p>\r\n        </div>\r\n      </section>\r\n    )\r\n  }\r\n\r\n  const MembersList = () => {\r\n\r\n    return (\r\n      <section className=\"team box\">\r\n        <div className=\"team__container box__container\" >\r\n          <h2 className=\"team__title\">EQUIPO</h2>\r\n          <div className=\"members-list\" >\r\n            {\r\n              members.map(member => {\r\n                return (\r\n                  <MemberCard \r\n                    key={ member.name }\r\n                    name={ member.name }\r\n                    img={ member.img }\r\n                    job={ member.job }\r\n                  />\r\n                )\r\n              })\r\n            }\r\n          </div>\r\n        </div>\r\n      </section>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <WebLayout>\r\n      <PageTitle title=\"NOSOTROS\"/>\r\n      <AboutSection />\r\n      <MembersList />\r\n    </WebLayout>\r\n  )\r\n}\r\n\r\nexport default Nosotros\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport emailjs, { init } from \"emailjs-com\";\r\n\r\nimport \"./ContactForm.css\";\r\n\r\nconst EMAILJS = {\r\n  //TODO: Change credentials to PhoneBox account and hide them\r\n  user_id: \"user_HD278ebmTPb2FQEswUWJW\",\r\n  service_id: \"service_jno9n4u\",\r\n  template_id: \"contact_form\",\r\n};\r\n\r\nconst ContactForm = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const [sent, setSent] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [idle, setIdle] = useState(true);\r\n\r\n  const form = useRef();\r\n\r\n  const cleanFormFields = () => {\r\n    setName('')\r\n    setEmail('')\r\n    setMessage('')\r\n  }\r\n\r\n  const onSendMessage = (e) => {\r\n    e.preventDefault();\r\n    setIdle(true);\r\n    if (email !== \"\" && name !== \"\" && message !== \"\") {\r\n      init(EMAILJS.user_id);\r\n      emailjs\r\n        .sendForm(\r\n          EMAILJS.service_id,\r\n          EMAILJS.template_id,\r\n          form.current,\r\n          EMAILJS.user_id\r\n        )\r\n        .then(\r\n          (response) => {\r\n            console.log(response);\r\n            setSent(true)\r\n            setLoading(false);\r\n            cleanFormFields()\r\n          },\r\n          (err) => {\r\n            console.log(err.text);\r\n            setSent(false)\r\n            setLoading(false);\r\n          }\r\n        );\r\n      setLoading(true);\r\n      setIdle(false)\r\n    } else {\r\n      /* ERROR: Should never reach this point */\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"contact-form\">\r\n      <form ref={form} className=\"contact-form__form\" onSubmit={onSendMessage}>\r\n        <label htmlFor=\"name\">Nombre:</label>\r\n        <input\r\n          name=\"from_name\"\r\n          type=\"text\"\r\n          id=\"name\"\r\n          required\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n        <label htmlFor=\"email\">Correo:</label>\r\n        <input\r\n          name=\"from_email\"\r\n          type=\"email\"\r\n          id=\"email\"\r\n          required\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <label htmlFor=\"message\">Mensaje:</label>\r\n        <textarea\r\n          name=\"message\"\r\n          id=\"message\"\r\n          required\r\n          value={message}\r\n          onChange={(e) => setMessage(e.target.value)}\r\n        />\r\n        <button className=\"button\" type=\"submit\">\r\n          Enviar\r\n        </button>\r\n      </form>\r\n      <div>\r\n        {!!idle}\r\n        {loading && <div className=\"loader\"></div>}\r\n        {!idle && !!sent && !loading && (\r\n          <div className=\"text sent\">Mensaje enviado</div>\r\n        )}\r\n        {!idle && !sent && !loading && (\r\n          <div className=\"text not-sent\">\r\n            Error enviando el mensaje. Inténtalo una vez mas\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactForm;\r\n","import React from 'react'\r\nimport PageTitle from '../components/PageTitle';\r\nimport ContactForm from '../components/ContactForm';\r\nimport WebLayout from '../layouts/WebLayout';\r\nimport './Contacto.css'\r\n\r\nconst Contacto = props => {\r\n  return (      \r\n    <WebLayout>\r\n      <PageTitle title=\"CONTACTO\"/>\r\n      <main className=\"contact-page box\">\r\n        <div className=\"box__container\">\r\n          <h2 className=\"contact-page__title\">¡ESCRIBANOS UN MENSAJE!</h2>\r\n          <div className=\"contact-page__form\">\r\n            <ContactForm />\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </WebLayout>\r\n  )\r\n}\r\n\r\nexport default Contacto\r\n","import React, { useContext, useState } from \"react\";\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useNavigate } from \"react-router\";\r\nimport { login } from \"../../actions/auth\";\r\nimport { loginUser } from \"../../api\";\r\nimport { AuthContext } from \"../../auth/authContext\";\r\nimport { types } from \"../../types/types\";\r\nimport \"./Login.css\";\r\n\r\nconst Login = () => {\r\n\r\n  const navigate = useNavigate();\r\n  const AContext = useContext(AuthContext);\r\n\r\n  // -----\r\n  const dispatch = useDispatch()\r\n  // -----\r\n\r\n  const setLogin = (data) => { \r\n\r\n    // tokenReturn\r\n    // checkUser\r\n\r\n    localStorage.setItem('token', data.tokenReturn)\r\n\r\n    const actionContext = {\r\n      type: types.login,\r\n      payload: { name: data.checkUser.name },\r\n    };\r\n\r\n    AContext.dispatch(actionContext);\r\n\r\n    //\r\n    \r\n      dispatch(login(data.checkUser.name))\r\n\r\n    // \r\n\r\n    const lastPath = localStorage.getItem(\"lastPath\");\r\n\r\n    navigate(lastPath);\r\n  };\r\n\r\n  const LoginForm = () => {\r\n\r\n    const [email, setEmail] = useState('juan@mail.com')\r\n    const [password, setPassword] = useState('123456')\r\n\r\n    const handleInputChange = (e, setter) => {\r\n      setter(e.target.value)\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n      e.preventDefault()\r\n      let data = {\r\n        email: email,\r\n        password: password\r\n      }\r\n      // console.log(data)\r\n      loginUser(data)\r\n      .then(resp => {\r\n        if (resp.ok) {\r\n          return resp.json()\r\n        } else {\r\n          console.log('El coso esta invalñido')\r\n          return resp.json()\r\n        }\r\n      })\r\n      .then(data => {\r\n        if (data.tokenReturn) {\r\n          setLogin(data)\r\n        } else {\r\n          alert(data.message)\r\n        }\r\n      })\r\n      .catch(err => console.log(err))\r\n    }\r\n\r\n    return (\r\n      <div className=\"login-form\">\r\n        <h1 className=\"login-form__title\">Acceder</h1>\r\n        <form onSubmit={ handleSubmit }>\r\n          <div>\r\n            <label htmlFor=\"emailInput\">\r\n              Correo\r\n            </label>\r\n              <input \r\n                id=\"emailInput\"\r\n                type=\"text\"\r\n                name=\"email\"\r\n                value={ email }\r\n                onChange={ (e) => handleInputChange(e, setEmail) }\r\n              />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"passwordInput\">\r\n              Contraseña\r\n            </label>\r\n              <input \r\n                id=\"passwordInput\"\r\n                type=\"password\" \r\n                name=\"password\"\r\n                value={ password }\r\n                onChange={ (e) => handleInputChange(e, setPassword) }\r\n              />\r\n          </div>\r\n          <div className=\"conatiner-button\">\r\n            <button type=\"submit\" className=\"login-form__button\">Acceder</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"login-page\">\r\n      <section className=\"login-page__col1\">\r\n\r\n        <LoginForm />\r\n\r\n      </section>\r\n      <section className=\"login-page__col2\">\r\n        {/* <img src={imgLogin} alt=\"\" /> */}\r\n        <div \r\n          className=\"img\"\r\n          style={{ backgroundImage: \"url(/images/login/login-background.jpg)\" }}\r\n        ></div>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useContext } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { logout } from '../../actions/auth'\r\nimport { AuthContext } from '../../auth/authContext'\r\nimport { types } from '../../types/types'\r\n\r\nconst Logout = props => {\r\n\r\n  const navigate = useNavigate()\r\n  const AContext = useContext(AuthContext)\r\n\r\n  // -----\r\n\r\n    const dispatch = useDispatch()\r\n\r\n  // -----\r\n\r\n  const handleLogout = () => {\r\n\r\n    localStorage.removeItem('token')\r\n\r\n    const action = {\r\n      type: types.logout\r\n    }\r\n\r\n    AContext.dispatch(action)\r\n\r\n    // -----\r\n\r\n      dispatch( logout() )\r\n\r\n    // -----\r\n\r\n    navigate('/login', {\r\n      replace: true\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div onClick={ handleLogout }>\r\n      { props.children }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Logout\r\n","import * as React from 'react';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Box from '@mui/material/Box';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport Divider from '@mui/material/Divider';\r\nimport Drawer from '@mui/material/Drawer';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemIcon from '@mui/material/ListItemIcon';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport DashboardIcon from '@mui/icons-material/Dashboard';\r\nimport SellIcon from '@mui/icons-material/Sell';\r\nimport CategoryIcon from '@mui/icons-material/Category';\r\nimport PeopleIcon from '@mui/icons-material/People';\r\nimport WebIcon from '@mui/icons-material/Web';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport { Link } from 'react-router-dom';\r\nimport Logout from '../components/admin/Logout';\r\nimport { useSelector } from 'react-redux';\r\n\r\n\r\nconst drawerWidth = 240;\r\n\r\nfunction ResponsiveDrawer(props) {\r\n  const { window } = props;\r\n  const [mobileOpen, setMobileOpen] = React.useState(false);\r\n\r\n  const ui = useSelector(state => state.ui)\r\n  const auth = useSelector(state => state.auth)\r\n  \r\n\r\n  const handleDrawerToggle = () => {\r\n    setMobileOpen(!mobileOpen);\r\n  };\r\n\r\n  const links = [\r\n    {\r\n      name: 'Dashboard',\r\n      path: '/admin',\r\n      icon: <DashboardIcon />\r\n    },\r\n    {\r\n      name: 'Productos',\r\n      path: '/admin/products',\r\n      icon: <SellIcon />\r\n    },\r\n    {\r\n      name: 'Categorías',\r\n      path: '/admin/categories',\r\n      icon: <CategoryIcon />\r\n    },\r\n    {\r\n      name: 'Usuarios',\r\n      path: '/admin/users',\r\n      icon: <PeopleIcon />\r\n    },\r\n  ]\r\n  \r\n  const SideBarLink = ({ name, path, icon }) => {\r\n    return (\r\n      <Link to={ path } key={path}>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            { icon }\r\n          </ListItemIcon>\r\n          <ListItemText primary={name} />\r\n        </ListItem>\r\n      </Link>\r\n    )\r\n  }\r\n\r\n  const drawer = (\r\n    <div>\r\n      <Toolbar />\r\n      <Divider />\r\n      <List>\r\n        {links.map((item, index) => (\r\n          <SideBarLink \r\n            key={ index }\r\n            { ...item }\r\n          />\r\n        ))}\r\n      </List>\r\n      <Divider />\r\n      <List>\r\n        {<SideBarLink\r\n          name=\"Sitio Web\"\r\n          path=\"/\"\r\n          icon={ <WebIcon /> }\r\n        />}\r\n      </List>\r\n    </div>\r\n  );\r\n\r\n  const container = window !== undefined ? () => window().document.body : undefined;\r\n\r\n  return (\r\n    <Box sx={{ display: 'flex' }}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"fixed\"\r\n        sx={{ zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            edge=\"start\"\r\n            onClick={handleDrawerToggle}\r\n            sx={{ mr: 2, display: { sm: 'none' } }}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n            { ui.title }\r\n          </Typography>\r\n          <Typography variant=\"h6\" component=\"div\">\r\n            { auth.name }\r\n          </Typography>\r\n          <Logout>\r\n            <IconButton\r\n              size=\"large\"\r\n              aria-label=\"account of current user\"\r\n              aria-controls=\"menu-appbar\"\r\n              aria-haspopup=\"true\"\r\n              color=\"inherit\"\r\n            >\r\n            <LogoutIcon />\r\n          </IconButton>\r\n          </Logout>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Box\r\n        component=\"nav\"\r\n        sx={{ width: { sm: drawerWidth }, flexShrink: { sm: 0 } }}\r\n        aria-label=\"mailbox folders\"\r\n      >\r\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\r\n        <Drawer\r\n          container={container}\r\n          variant=\"temporary\"\r\n          open={mobileOpen}\r\n          onClose={handleDrawerToggle}\r\n          ModalProps={{\r\n            keepMounted: true, // Better open performance on mobile.\r\n          }}\r\n          sx={{\r\n            display: { xs: 'block', sm: 'none' },\r\n            '& .MuiDrawer-paper': { boxSizing: 'border-box', width: drawerWidth },\r\n          }}\r\n        >\r\n          {drawer}\r\n        </Drawer>\r\n        <Drawer\r\n          variant=\"permanent\"\r\n          sx={{\r\n            display: { xs: 'none', sm: 'block' },\r\n            '& .MuiDrawer-paper': { boxSizing: 'border-box', width: drawerWidth },\r\n          }}\r\n          open\r\n        >\r\n          {drawer}\r\n        </Drawer>\r\n      </Box>\r\n      <Box\r\n        component=\"main\"\r\n        sx={{ flexGrow: 1, p: 3, width: { sm: `calc(100% - ${drawerWidth}px)` } }}\r\n      >\r\n        <Toolbar />\r\n        { props.children }\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default ResponsiveDrawer;","import * as React from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Card from \"@mui/material/Card\";\r\nimport CardActions from \"@mui/material/CardActions\";\r\nimport CardContent from \"@mui/material/CardContent\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst card = ({ section, endpoint, length }) => (\r\n  <React.Fragment>\r\n    <CardContent>\r\n      <Typography sx={{ fontSize: 14 }} color=\"text.secondary\" gutterBottom>\r\n        {section}\r\n      </Typography>\r\n      <Typography variant=\"body2\">\r\n        Total de {section.toLowerCase()}\r\n      </Typography>\r\n      <Typography variant=\"h5\" component=\"div\">\r\n        {length}\r\n      </Typography>\r\n    </CardContent>\r\n    <CardActions>\r\n      <Link to={`/admin/${endpoint}`}>\r\n        <Button size=\"small\">Visitar</Button>\r\n      </Link>\r\n    </CardActions>\r\n  </React.Fragment>\r\n);\r\n\r\nfunction CardSections({section, endpoint, length}) {\r\n  return (\r\n    <Box sx={{ minWidth: 275, margin: '1rem' }}>\r\n      <Card variant=\"outlined\">{card({section, endpoint, length})}</Card>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport { CardSections }\r\n","import { types } from \"../types/types\"\r\n\r\nexport const setDashboardTitle = (title) => {\r\n  return ({\r\n    type: types.setDashboardTitle,\r\n    payload: {\r\n      title: title,\r\n    }\r\n  })\r\n}","import React, { useState, useEffect } from 'react'\r\n\r\nimport { CardSections } from '../../components/admin/CardSections'\r\n\r\nimport { getProducts, getCategories, getUsers } from '../../api'\r\nimport { useDispatch } from 'react-redux'\r\nimport { setDashboardTitle } from '../../actions/ui'\r\n\r\nconst AdminHome = () => {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch( setDashboardTitle('Producto / Editar') )\r\n  }, [])\r\n\r\n  \r\n\r\n  const [products, setProducts] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getFromBkend = async (endpointQuery, setter) => {\r\n      let resp = await endpointQuery();\r\n      resp = await resp.json()\r\n      setter(resp);\r\n    }\r\n\r\n    getFromBkend(getProducts, setProducts)\r\n    getFromBkend(getCategories, setCategories)\r\n    getFromBkend(getUsers, setUsers)\r\n  }, [])\r\n  \r\n  return (\r\n    <div>\r\n      <CardSections\r\n        section=\"Categorias\"\r\n        endpoint=\"categories\"\r\n        length={categories.length}\r\n        >\r\n\r\n      </CardSections>\r\n      <CardSections\r\n        section=\"Productos\"\r\n        endpoint=\"products\"\r\n        length={products.length}\r\n        >\r\n\r\n      </CardSections>\r\n      <CardSections\r\n        section=\"Usuarios\"\r\n        endpoint=\"users\"\r\n        length={users.length}\r\n      >\r\n\r\n      </CardSections>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AdminHome\r\n","import * as React from \"react\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport CircleIcon from \"@mui/icons-material/Circle\";\r\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\r\nimport { Button, IconButton } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Box } from \"@mui/system\";\r\n\r\nconst ProductsTableRow = ({ row }) => {\r\n  \r\n  return (\r\n    <TableRow>\r\n      <TableCell align=\"center\">\r\n        <CircleIcon color={row.status === \"activo\" ? \"success\" : \"error\"} />\r\n      </TableCell>\r\n      <TableCell align=\"center\">\r\n        { row.category ? row.category.name : '-' } \r\n      </TableCell>\r\n      <TableCell align=\"center\">{row.name} </TableCell>\r\n      <TableCell align=\"center\">\r\n        {row.price ? `$ ${row.price.toLocaleString(\"es-ES\")}` : \"-\"}\r\n      </TableCell>\r\n      <TableCell align=\"center\">\r\n        <Link to={`/admin/products/edit/${row._id}`}>\r\n          <IconButton style={{ cursor: \"pointer\" }}>\r\n            <EditIcon id={row} />\r\n          </IconButton>\r\n        </Link>\r\n      </TableCell>\r\n      <TableCell align=\"center\">\r\n        <Link to={`/productos/${row.slug}`}>\r\n          <IconButton style={{ cursor: \"pointer\" }}>\r\n            <VisibilityIcon id={row._id} />{\" \"}\r\n          </IconButton>\r\n        </Link>\r\n      </TableCell>\r\n    </TableRow>\r\n  )\r\n}\r\n\r\nfunction ProductsTable({ titles, rows }) {\r\n\r\n  const [content, setContent] = React.useState(rows || []);\r\n\r\n  React.useEffect(() => {\r\n    setContent(rows);\r\n  }, [rows]);\r\n\r\n  return (\r\n    <>\r\n      <Box display=\"flex\" justifyContent=\"flex-end\" my={2}>\r\n        <Link to={`/admin/products/create`}>\r\n          <Button variant=\"contained\">\r\n            Crear Producto\r\n          </Button>\r\n        </Link>\r\n      </Box>\r\n      <TableContainer component={Paper} sx={{ overflowX: \"auto\" }}>\r\n        <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              {titles.map((title, idx) => (\r\n                <TableCell\r\n                  align=\"center\"\r\n                  key={idx}\r\n                  style={{ fontWeight: \"bold\" }}\r\n                >\r\n                  {title}\r\n                </TableCell>\r\n              ))}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {content.map((row) => (\r\n              <ProductsTableRow row={row} key={row._id} />\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n}\r\n\r\nexport { ProductsTable };\r\n","import React, { useRef } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { ProductsTable } from \"../../../components/admin/ProductsTable\";\r\nimport { getProducts } from \"../../../api\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setDashboardTitle } from '../../../actions/ui'\r\n\r\nconst ProductsHome = ({ children }) => {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch( setDashboardTitle('Productos') )\r\n  }, [])\r\n\r\n  const [products, setProducts] = useState([]);\r\n  const [categories, setCategories] = useState([])\r\n\r\n  const data = useSelector(state => state.data)\r\n\r\n  useEffect(() => {\r\n    if (data.categories) setCategories(data.categories)\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    getProducts()\r\n      .then(resp => resp.json() )\r\n      .then(data => setProducts(data))\r\n  }, []);\r\n\r\n  const setProductsCategories = async () => {\r\n    let localProducts = [...products]\r\n\r\n    await localProducts.forEach(product => {\r\n      product.category = data.categories.find(category => {\r\n        return product.category_id === category._id\r\n      })\r\n    })\r\n    setProducts(localProducts)\r\n    // console.log(products)\r\n    // console.log(categories)\r\n  }\r\n\r\n  const setDataRef = useRef(true)\r\n  useEffect(() => {\r\n    if ((products.length > 0) && (categories.length > 0) && setDataRef.current) {\r\n      setDataRef.current = false\r\n      setProductsCategories()\r\n    }\r\n  }, [products, categories])\r\n\r\n  const columns = [\"Status\", \"Categorias\", \"Nombre\", \"Precio\", \"\", \"\"];\r\n  return (\r\n    <div style={{ color: \"red\" }}>\r\n      <ProductsTable titles={columns} rows={products} />\r\n    </div>\r\n  );\r\n}\r\nexport default ProductsHome;\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Box, FormControl, OutlinedInput, Typography, IconButton, InputAdornment } from '@mui/material'\r\nimport ClearIcon from '@mui/icons-material/Clear';\r\nimport AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\r\n\r\nconst ProductFeaturesInputList = props => {\r\n\r\n  const [features, setFeatures] = useState([\"\",])\r\n\r\n  useEffect(() => {\r\n    setFeatures(props.features)\r\n  }, [props.features])\r\n\r\n  const handleInputChange = (e, idx) => {\r\n    let localFeatures = [ ...features ]\r\n    localFeatures[idx] = e.target.value\r\n    setFeatures(localFeatures)\r\n  }\r\n\r\n  const handleAddFeature = () => {\r\n    let localFeatures = [...features, \"\"]\r\n    setFeatures(localFeatures)\r\n  }\r\n\r\n  const handleDeleteFeature = (idx) => {\r\n    let localFeatures = [...features]\r\n    localFeatures.splice(idx, 1)\r\n    setFeatures(localFeatures)\r\n  }\r\n\r\n  const handleInputBlur = () => {\r\n    let localFeatures = features.filter(feature => feature.trim() !== '')\r\n    props.setFeatures(localFeatures)\r\n  }\r\n\r\n  const FeaturesList = features.map((feat, index) => \r\n    <FormControl key={ index } fullWidth sx={{ mt: 2 }}>\r\n      <OutlinedInput \r\n        name={ \"feature\" + index }\r\n        value={ feat }\r\n        onChange={ e => handleInputChange(e, index) }\r\n        onBlur={ handleInputBlur }\r\n        endAdornment={\r\n          <InputAdornment position=\"end\">\r\n            <IconButton\r\n              aria-label=\"toggle password visibility\"\r\n              onClick={() => handleDeleteFeature(index)}\r\n              edge=\"end\"\r\n            >\r\n              <ClearIcon />\r\n            </IconButton>\r\n          </InputAdornment>\r\n        }\r\n      />\r\n    </FormControl>\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h6\">\r\n        Características:\r\n      </Typography>\r\n        { FeaturesList }\r\n        <Box\r\n          mt={2}\r\n        >\r\n          <IconButton \r\n            type=\"button\" \r\n            onClick={ handleAddFeature }\r\n          >\r\n              <AddCircleOutlineIcon />\r\n          </IconButton>\r\n        </Box>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProductFeaturesInputList\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Typography, Button, Fab } from \"@mui/material\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport PhotoCamera from \"@mui/icons-material/PhotoCamera\";\r\nimport { Box } from \"@mui/system\";\r\n\r\nconst Input = styled(\"input\")({\r\n  display: \"none\",\r\n});\r\n\r\nconst ImagesFilesAsArray = ({ imagesAsFiles, setImagesAsFiles }) => {\r\n  useEffect(() => {\r\n    console.log({ imagesAsFiles });\r\n  }, [imagesAsFiles]);\r\n\r\n  const handleClearImage = (e) => {\r\n    console.log(e.target.id);\r\n\r\n    const target = parseInt(e.target.id);\r\n\r\n    const copyOfImagesAsFiles = [...imagesAsFiles];\r\n    copyOfImagesAsFiles.splice(target, 1);\r\n    setImagesAsFiles(copyOfImagesAsFiles);\r\n  };\r\n\r\n  if (imagesAsFiles.length > 0) {\r\n    return imagesAsFiles.map((image, idx) => (\r\n      <div\r\n        key={idx}\r\n        style={{\r\n          display: \"inline\",\r\n          height: \"300px\",\r\n          position: \"relative\",\r\n          margin: \"1rem\",\r\n        }}\r\n      >\r\n        <img\r\n          style={{ height: \"300px\", width: \"auto\" }}\r\n          src={URL.createObjectURL(image)}\r\n          alt={image.name}\r\n        />\r\n        <Fab\r\n          size=\"small\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"0\",\r\n            right: \"0\",\r\n            transform: \"translateY(-280px)\",\r\n            backgroundColor: \"tomato\",\r\n          }}\r\n          onClick={handleClearImage}\r\n          id={idx}\r\n        >\r\n          x\r\n        </Fab>\r\n      </div>\r\n    ));\r\n  }\r\n  return <span></span>;\r\n};\r\n\r\nconst ProductImagesForm = ({ images, setImages }) => {\r\n  const allInputs = [];\r\n\r\n  const [imagesAsFiles, setImagesAsFiles] = useState(allInputs);\r\n  const [imagesAsUrls, setImagesAsUrls] = useState(allInputs);\r\n\r\n  useEffect(() => {\r\n    console.log(imagesAsFiles);\r\n  }, [imagesAsFiles]);\r\n\r\n  const handleImagesAsFiles = (e) => {\r\n    let tempArray = [];\r\n    for (let index = 0; index < e.target.files.length; index++) {\r\n      const image = e.target.files[index];\r\n\r\n      if (image.type !== \"image/jpeg\") {\r\n        console.log(`Type not valid -> ${image.name}, ignored`);\r\n        continue;\r\n      }\r\n      tempArray.push(image);\r\n    }\r\n    // setImages(imagesAsFiles)\r\n    setImagesAsFiles(tempArray);\r\n    setImages(tempArray);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h6\">Imágenes:</Typography>\r\n      {/* <form onSubmit={handleUploadToFirebase}> */}\r\n      <label htmlFor=\"icon-button-file\">\r\n        <Input\r\n          accept=\"image/*\"\r\n          id=\"icon-button-file\"\r\n          type=\"file\"\r\n          multiple={true}\r\n          onChange={handleImagesAsFiles}\r\n        />\r\n        <IconButton\r\n          color=\"primary\"\r\n          aria-label=\"upload picture\"\r\n          component=\"span\"\r\n        >\r\n          <PhotoCamera />\r\n        </IconButton>\r\n      </label>\r\n      <Box component=\"div\" sx={{ overflow: \"auto\", whiteSpace: \"nowrap\" }}>\r\n        <ImagesFilesAsArray\r\n          imagesAsFiles={imagesAsFiles}\r\n          setImagesAsFiles={setImagesAsFiles}\r\n        />\r\n      </Box>\r\n      {/* </form> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductImagesForm;\r\n","import React, { useEffect, useState } from 'react'\r\nimport Box from '@mui/material/Box';\r\nimport { Button, Divider, FormControl, InputAdornment, InputLabel, MenuItem, OutlinedInput, Select, Stack, TextField, Typography } from '@mui/material';\r\nimport ProductFeaturesInputList from './ProductFeaturesInputList';\r\nimport ProductImagesForm from './ProductImagesForm';\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst ProductForm = (props) => {\r\n\r\n  const [name, setName] = useState('')\r\n  const [slug, setSlug] = useState('')\r\n  const [price, setPrice] = useState('')\r\n  const [description, setDescription] = useState('')\r\n  const [features, setFeatures] = useState([])\r\n  const [category_id, setCategory_id] = useState('')\r\n  const [status, setStatus] = useState('')\r\n  const [categories, setCategories] = useState([]);\r\n  const [images, setImages] = useState([]);\r\n\r\n  const setValues = (data) => {\r\n    setName(data.name)\r\n    setSlug(data.slug)\r\n    setPrice(data.price)\r\n    setDescription(data.description)\r\n    setFeatures(data.features)\r\n    setCategory_id(data.category_id)\r\n    setStatus(data.status);\r\n    setImages(data.images)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (typeof props._id !== 'undefined') {\r\n      setValues(props)\r\n    }\r\n  }, [props._id])\r\n\r\n  const data = useSelector((state) => state.data);\r\n\r\n  useEffect(() => {\r\n    if (data?.categories) setCategories(data.categories);\r\n  }, [data]);\r\n\r\n  const handleInputChange = (e, setter) => {\r\n    setter(e.target.value)\r\n  }\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n\r\n    let formData = {\r\n      name: name, \r\n      slug: slug, \r\n      price: price, \r\n      description: description, \r\n      features: features, \r\n      images: images, \r\n      category_id: category_id, \r\n      status: status\r\n    }\r\n\r\n    props.handleSubmit(formData)\r\n  }\r\n\r\n  return (\r\n    <Box\r\n      component=\"form\"\r\n      noValidate\r\n      autoComplete=\"off\"\r\n      onSubmit={handleSubmit}\r\n      sx={{\r\n        padding: \"24px\",\r\n        boxSizing: \"border-box\",\r\n        boxShadow: \"0 0 6px #ccc\",\r\n        borderRadius: \"8px\",\r\n      }}\r\n    >\r\n      <Typography variant=\"h6\">Información:</Typography>\r\n\r\n      <FormControl fullWidth sx={{ mt: 2 }}>\r\n        <TextField\r\n          label=\"Nombre:\"\r\n          name=\"name\"\r\n          value={name}\r\n          onChange={(e) => handleInputChange(e, setName)}\r\n          variant=\"outlined\"\r\n        />\r\n      </FormControl>\r\n\r\n      <FormControl fullWidth sx={{ mt: 2 }}>\r\n        <TextField\r\n          label=\"Slug:\"\r\n          name=\"slug\"\r\n          value={slug}\r\n          onChange={(e) => handleInputChange(e, setSlug)}\r\n          variant=\"outlined\"\r\n        />\r\n      </FormControl>\r\n\r\n      <FormControl fullWidth sx={{ mt: 2 }}>\r\n        <InputLabel>Precio</InputLabel>\r\n        <OutlinedInput\r\n          name=\"price\"\r\n          value={price}\r\n          onChange={(e) => handleInputChange(e, setPrice)}\r\n          startAdornment={<InputAdornment position=\"start\">$</InputAdornment>}\r\n          label=\"Amount\"\r\n        />\r\n      </FormControl>\r\n\r\n      <FormControl fullWidth sx={{ mt: 2 }}>\r\n        <TextField\r\n          name=\"description\"\r\n          value={description}\r\n          onChange={(e) => handleInputChange(e, setDescription)}\r\n          label=\"Descripción:\"\r\n          variant=\"outlined\"\r\n          multiline\r\n          rows={3}\r\n        />\r\n      </FormControl>\r\n\r\n      <Divider sx={{ my: 4 }} />\r\n\r\n      <ProductFeaturesInputList features={features} setFeatures={setFeatures} />\r\n\r\n      <Divider sx={{ my: 4 }} />\r\n\r\n      <div style={{ display: \"flex\" }}>\r\n        <FormControl fullWidth sx={{ mr: 1 }}>\r\n          <InputLabel id=\"demo-simple-select-helper-label\">\r\n            Categoría:\r\n          </InputLabel>\r\n          <Select\r\n            labelId=\"demo-simple-select-helper-label\"\r\n            label=\"Categoría\"\r\n            value={category_id}\r\n            onChange={(e) => {\r\n              handleInputChange(e, setCategory_id)\r\n            }}\r\n          >\r\n            {categories.map((category) => (\r\n              <MenuItem key={category._id} value={category._id}>\r\n                {category.name}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n\r\n        <FormControl fullWidth sx={{ ml: 1 }}>\r\n          <InputLabel>Estado:</InputLabel>\r\n          <Select\r\n            labelId=\"demo-simple-select-helper-label\"\r\n            value={ status }\r\n            label=\"Age\"\r\n            onChange={e => handleInputChange(e, setStatus) }\r\n          >\r\n            <MenuItem value=\"\">\r\n              <em>None</em>\r\n            </MenuItem>\r\n            <MenuItem value=\"activo\">Activo</MenuItem>\r\n            <MenuItem value=\"inactivo\">Inactivo</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n      </div>\r\n\r\n      <Divider sx={{ my: 4 }} />\r\n\r\n      <ProductImagesForm\r\n        images={props.images}\r\n        setImages={props.setImages}\r\n      />\r\n\r\n      <Divider sx={{ my: 4 }} />\r\n\r\n      <Stack spacing={2} direction=\"row\" justifyContent=\"flex-end\">\r\n        {/* TODO: Alinear a la derecha */}\r\n        <Button \r\n          type=\"button\"\r\n          onClick={props.handleDiscard}\r\n          variant=\"outlined\"\r\n        >\r\n          Cancelar\r\n        </Button>\r\n        <Button \r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n        >\r\n          { props.actionButton }\r\n        </Button>\r\n      </Stack>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default ProductForm\r\n","import { getStorage } from 'firebase/storage'\r\n\r\n// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyClYRm7igC-X-YJdgYk15BB-87Bg42_Rkw\",\r\n    authDomain: \"vipegb.firebaseapp.com\",\r\n    projectId: \"vipegb\",\r\n    storageBucket: \"vipegb.appspot.com\",\r\n    messagingSenderId: \"531376132376\",\r\n    appId: \"1:531376132376:web:522ae53c1a657084468e6d\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst firebaseApp = initializeApp(firebaseConfig);\r\n\r\nconst storage = getStorage(firebaseApp);\r\n\r\nexport default storage;\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Box, Container, Typography } from '@mui/material'\r\nimport ProductForm from '../../../components/admin/ProductForm'\r\nimport { storeProduct } from '../../../api'\r\nimport { useNavigate } from 'react-router'\r\n\r\n//firebase\r\nimport storage from \"../../../firebase/firebase\";\r\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\r\nimport { useDispatch } from 'react-redux'\r\nimport { setDashboardTitle } from '../../../actions/ui'\r\n\r\nconst Create = () => {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch( setDashboardTitle('Producto / Crear') )\r\n  }, [])\r\n\r\n  const [images, setImages] = useState([])\r\n\r\n  useEffect(() => {\r\n    console.log('se actualizo lista de imagenes', images);\r\n  }, [images])\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const handleSubmit = async (data) => {\r\n    //1 firebase\r\n    console.log(`Start upload ${images}`);\r\n    let tempURLs = []\r\n\r\n\r\n    // check files list\r\n    if (images.length <= 0) {\r\n      console.error(`No image was selected`);\r\n      return;\r\n    }\r\n    for (const image of images) {\r\n      const storageRef = ref(storage, `/images/${image.name}`);\r\n      //TODO: Add security to prevent repeat multiple images with the same name\r\n      let snapshot = await uploadBytes(storageRef, image)\r\n      let url = await getDownloadURL(storageRef)\r\n      tempURLs.push(url)\r\n    }\r\n    data.images = tempURLs\r\n    console.log('data.images -> ', data.images);\r\n    //2 mongo\r\n    storeProduct(data)\r\n    .then(resp => {\r\n      if (resp.ok) {\r\n        alert('El producto se creó correctamente')\r\n        navigate('/admin/products')\r\n      }\r\n    })\r\n    .catch((err) => console.log(err))\r\n  }\r\n  \r\n  const handleDiscard = () => {\r\n    navigate('/admin/products')\r\n  }\r\n\r\n  return (\r\n    <>\r\n    BreadCrumbs\r\n      <Container maxWidth=\"md\">\r\n        <Typography variant=\"h4\" mt={3}>\r\n          Crear producto\r\n        </Typography>\r\n\r\n        <Box my={3}>\r\n          <ProductForm \r\n            actionButton=\"Crear\"\r\n            handleSubmit={ handleSubmit }\r\n            handleDiscard={handleDiscard}\r\n            images={images}\r\n            setImages={setImages}\r\n          />\r\n        </Box>\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Create\r\n","import React from 'react'\r\nimport Box from '@mui/material/Box';\r\nimport { Button, Typography } from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { deleteProduct } from '../../api';\r\n\r\nconst ProductDeleteForm = ({ id }) => {\r\n\r\n  const navigate = useNavigate ()\r\n\r\n  const handleSubmit = (e) =>{\r\n    e.preventDefault()\r\n    let confirm = window.confirm('¿Está seguro de que desea eliminar este producto?');\r\n      if (confirm) {\r\n        deleteProduct(id)\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n          alert('El producto: ' + data.name + ' ha sido eliminado.')\r\n          navigate (\"/admin/products\")\r\n        })\r\n      }\r\n  }\r\n\r\n  return (\r\n    <Box\r\n    component=\"form\"\r\n    noValidate\r\n    autoComplete=\"off\"\r\n    onSubmit={ handleSubmit }\r\n    sx={{ \r\n      padding: '24px', \r\n      boxSizing: 'border-box',\r\n      boxShadow: '0 0 6px #ccc',\r\n      borderRadius: '8px', \r\n      display:\"flex\",\r\n      justifyContent:'space-between',\r\n    }}\r\n  >\r\n    <Typography variant=\"h6\">\r\n      ¿Desea eliminar este producto?\r\n    </Typography>\r\n    \r\n    <Button \r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n        >\r\n          Eliminar\r\n    </Button>\r\n    \r\n  </Box>\r\n  )\r\n}\r\n\r\nexport default ProductDeleteForm\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Breadcrumbs, Container, Typography } from '@mui/material'\r\nimport { Box } from '@mui/system'\r\nimport { useNavigate, useParams } from 'react-router'\r\nimport ProductForm from '../../../components/admin/ProductForm'\r\nimport { getProductById, updateProduct } from '../../../api'\r\nimport ProductDeleteForm from '../../../components/admin/ProductDeleteForm'\r\nimport NavigateNextIcon from '@mui/icons-material/NavigateNext';\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux'\r\nimport { setDashboardTitle } from '../../../actions/ui'\r\n\r\nconst Edit = () => {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch( setDashboardTitle('Producto / Editar') )\r\n  }, [])\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const { id } = useParams()\r\n\r\n  const [product, setProduct] = useState({})\r\n\r\n  // const BreadcrumbsLinks = [\r\n  //   <Link key=\"1\" to=\"/admin\">Dashboard</Link>,\r\n  //   <Link key=\"2\" to=\"/admin/products\">Productos</Link>,\r\n  //   <Link key=\"3\" to=\"#\">Editar</Link>\r\n  // ]\r\n\r\n  useEffect(() => {\r\n    getProductById(id)\r\n    .then(resp => resp.json())\r\n    .then(data => setProduct(data))\r\n    .catch(err => console.log(err.message))\r\n  }, [id])\r\n\r\n  const handleSubmit = (data) => {\r\n    updateProduct(id, data)\r\n    .then(resp => {\r\n      if (resp.ok) {\r\n        alert('El producto se actualizó correctamente')\r\n        navigate('/admin/products')\r\n      }\r\n    })\r\n    .catch(err => console.log(err.message))\r\n  }\r\n  \r\n  const handleDiscard = () => {\r\n    navigate('/admin/products')\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* <Breadcrumbs\r\n        separator={<NavigateNextIcon fontSize=\"small\" />}\r\n        aria-label=\"breadcrumb\"\r\n      >\r\n        { BreadcrumbsLinks }\r\n      </Breadcrumbs> */}\r\n\r\n      <Container maxWidth=\"md\">\r\n        <Typography variant=\"h4\" mt={3}>\r\n          Editar producto\r\n        </Typography>\r\n\r\n        <Box my={3}>\r\n          <ProductForm\r\n            actionButton=\"Actualizar\"\r\n            { ...product }\r\n            handleSubmit={ handleSubmit }\r\n            handleDiscard={ handleDiscard }\r\n          />\r\n        </Box>\r\n\r\n        <Box my={5}>\r\n          <ProductDeleteForm id={ id }/>\r\n        </Box>\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Edit\r\n","import React from 'react'\r\n\r\nconst Show = () => {\r\n  return (\r\n    <div>\r\n      <h1>Show Product</h1>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Show\r\n","import * as React from \"react\";\r\nimport { useState, useEffect, useImperativeHandle } from \"react\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport CircleIcon from \"@mui/icons-material/Circle\";\r\nimport { IconButton, Modal, TextField } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport { Button } from \"@mui/material\";\r\nimport { Alert } from \"@mui/material\";\r\nimport { MenuItem } from \"@mui/material\";\r\nimport { InputLabel } from \"@mui/material\";\r\nimport { Select } from \"@mui/material\";\r\n\r\nimport { updateUser } from \"../../api\";\r\n\r\n\r\nconst UpdateModalForm = React.forwardRef(({data, onDataChanged}, ref) => {\r\n  \r\n  const flags = {\r\n    none: 0,\r\n    empty: 1,\r\n    emailNotValid: 2,\r\n    pswdLength: 3,\r\n  };\r\n  \r\n  const stat = {\r\n    inactive: 0,\r\n    active: 1,\r\n  };\r\n  \r\n  const [open, setOpen]     = useState(false);\r\n  const [name, setName]     = useState(data.name);\r\n  const [role, setRole]     = useState(data.role);\r\n  const [email, setEmail]   = useState(data.email);\r\n  const [pswd, setPswd]     = useState('');\r\n  const [status, setStatus] = useState(data.status);\r\n  const[errors, setErrors]  = useState(flags.none);\r\n  const [alert, setAlert]   = useState(false);\r\n\r\n  const handleClose = () => setOpen(false);\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    setAlert(true)\r\n\r\n    if (\r\n      name === \"\" ||\r\n      email === \"\" ||\r\n      role === \"\" ||\r\n      pswd === \"\"\r\n    ) {\r\n      setErrors(flags.empty);\r\n      return;\r\n    }\r\n\r\n    if (pswd.length < 6)\r\n    {\r\n      setErrors(flags.pswdLength)\r\n      return;\r\n    }\r\n\r\n    const newData = {\r\n      name,\r\n      email,\r\n      password: pswd,\r\n      status,\r\n      role,\r\n    }\r\n\r\n    updateUser(newData, data._id)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (\r\n          data.message === \"Email en uso por otra cuenta.\"\r\n        ) {\r\n          setErrors(flags.emailNotValid);\r\n        } else {\r\n          setErrors(flags.none);\r\n          window.location.reload(false)\r\n        }\r\n      });\r\n  }\r\n\r\n  const handleChangeRole = (e) => {\r\n    setRole(e.target.value);\r\n  }\r\n  const handleChangeStatus = (e) => {\r\n    setStatus(e.target.value);\r\n  }\r\n  const handleSeverity = (e) => {\r\n    switch (errors) {\r\n      case flags.none:\r\n        return 'success'\r\n      case flags.empty:\r\n      case flags.emailNotValid:\r\n      case flags.pswdLength:\r\n        return 'error'\r\n      \r\n      default:\r\n        return 'warning'\r\n    }\r\n  }\r\n  const handleMessage = (e) => {\r\n    if (errors === flags.none) return `Usuario actualizado`;\r\n    else if (errors === flags.empty) return `Hay campos vacíos`;\r\n    else if (errors === flags.emailNotValid) return `Email en uso`;\r\n    else if (errors === flags.pswdLength) return `La contraseña debe tener almenos 6 caracteres`;\r\n  }\r\n\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    handleOpen: (open) => {\r\n      setOpen(open)\r\n    }\r\n  }))\r\n\r\n  const boxStyle = {\r\n    position: \"absolute\",\r\n    width: 400,\r\n    border: \"2px solid rgb(25 118 210)\",\r\n    boxShadow: 24,\r\n    p: 4,\r\n    backgroundColor: \"white\",\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      style={{\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"modal-modal-title\"\r\n      aria-describedby=\"modal-modal-description\"\r\n    >\r\n      <Box sx={boxStyle}>\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n          }}\r\n        >\r\n          <TextField\r\n            margin=\"normal\"\r\n            id=\"outlined-name-input\"\r\n            label=\"Nombre completo\"\r\n            type=\"text\"\r\n            value={name}\r\n            onChange={(e) => {\r\n              setName(e.target.value);\r\n            }}\r\n          />\r\n\r\n          <InputLabel>Rol</InputLabel>\r\n          <Select\r\n            labelId=\"rol\"\r\n            id=\"role\"\r\n            value={role}\r\n            label=\"Rol\"\r\n            onChange={handleChangeRole}\r\n          >\r\n            <MenuItem value={`admin`}>Admin</MenuItem>\r\n            <MenuItem value={`editor`}>Editor</MenuItem>\r\n          </Select>\r\n\r\n          <InputLabel>Status</InputLabel>\r\n          <Select\r\n            labelId=\"status\"\r\n            id=\"status\"\r\n            value={status}\r\n            label=\"Status\"\r\n            onChange={handleChangeStatus}\r\n          >\r\n            <MenuItem value={stat.active}>Activo</MenuItem>\r\n            <MenuItem value={stat.inactive}>Inactivo</MenuItem>\r\n          </Select>\r\n\r\n          <TextField\r\n            margin=\"normal\"\r\n            id=\"outlined-email-input\"\r\n            label=\"Email\"\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => {\r\n              setEmail(e.target.value);\r\n            }}\r\n          />\r\n          <TextField\r\n            margin=\"normal\"\r\n            id=\"outlined-password-input\"\r\n            label=\"Contraseña\"\r\n            type=\"password\"\r\n            autoComplete=\"current-password\"\r\n            value={pswd}\r\n            onChange={(e) => {\r\n              setPswd(e.target.value);\r\n            }}\r\n          />\r\n          {alert === true && (\r\n            <Alert severity={handleSeverity()} style={{ marginBottom: \"10px\" }}>\r\n              {handleMessage()}\r\n            </Alert>\r\n          )}\r\n          <Button variant=\"contained\" type=\"submit\">\r\n            Guardar\r\n          </Button>\r\n        </form>\r\n      </Box>\r\n    </Modal>\r\n  );\r\n});\r\n\r\nfunction UsersTableRow({ row }) {\r\n  const updateModalRef = React.useRef();\r\n\r\n  const handleClick = () => {\r\n    updateModalRef.current.handleOpen(true)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <UpdateModalForm data={row} ref={ updateModalRef }/>\r\n\r\n    <TableRow>\r\n      <TableCell align=\"center\">\r\n        <CircleIcon color={row.status === 1 ? \"success\" : \"error\"} />\r\n      </TableCell>\r\n      <TableCell align=\"center\">{row.name} </TableCell>\r\n      <TableCell align=\"center\">{row.email} </TableCell>\r\n      <TableCell align=\"center\">{row.role} </TableCell>\r\n      <TableCell>\r\n        <IconButton\r\n          style={{ cursor: \"pointer\" }}\r\n          onClick={handleClick}\r\n          >\r\n          <EditIcon\r\n          />\r\n        </IconButton>\r\n      </TableCell>\r\n      </TableRow>\r\n      </>\r\n  );\r\n}\r\n\r\nfunction UsersTable({ titles, rows }) {\r\n  const [content, setContent] = React.useState(rows || []);\r\n\r\n  React.useEffect(() => {\r\n    setContent(rows);\r\n  }, [rows]);\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            {titles.map((title, idx) => (\r\n              <TableCell\r\n                align=\"center\"\r\n                key={idx}\r\n                style={{ fontWeight: \"bold\" }}\r\n              >\r\n                {title}\r\n              </TableCell>\r\n            ))}\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {content.map((row) => (\r\n            <UsersTableRow row={row} key={row._id} />\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n\r\nexport { UsersTable }\r\n","import * as React from \"react\";\r\nimport { useState, useEffect, useImperativeHandle } from \"react\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport { IconButton, Modal, TextField } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport { Button } from \"@mui/material\";\r\nimport { Alert } from \"@mui/material\";\r\n\r\nimport { updateCategory } from \"../../api\";\r\n\r\nconst UpdateModalForm = React.forwardRef(({ data, onDataChanged }, ref) => {\r\n  const flags = {\r\n    none: 0,\r\n    empty: 1,\r\n    slugNotValid: 2,\r\n    pswdLength: 3,\r\n  };\r\n\r\n  const stat = {\r\n    inactive: 0,\r\n    active: 1,\r\n  };\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [name, setName] = useState(data.name);\r\n  const [slug, setslug] = useState(data.slug);\r\n  const [errors, setErrors] = useState(flags.none);\r\n  const [alert, setAlert] = useState(false);\r\n\r\n  const handleClose = () => setOpen(false);\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setAlert(true);\r\n\r\n    if (name === \"\" || slug === \"\") {\r\n      setErrors(flags.empty);\r\n      return;\r\n    }\r\n\r\n    const newData = {\r\n      name,\r\n      slug,\r\n    };\r\n\r\n    updateCategory(newData, data._id)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.message === \"slug en uso por otra cuenta.\") {\r\n          setErrors(flags.slugNotValid);\r\n        } else {\r\n          setErrors(flags.none);\r\n          window.location.reload(false);\r\n        }\r\n      });\r\n  };\r\n\r\n  // const handleChangeRole = (e) => {\r\n  //   setRole(e.target.value);\r\n  // };\r\n  // const handleChangeStatus = (e) => {\r\n  //   setStatus(e.target.value);\r\n  // };\r\n  const handleSeverity = (e) => {\r\n    switch (errors) {\r\n      case flags.none:\r\n        return \"success\";\r\n      case flags.empty:\r\n      case flags.slugNotValid:\r\n      case flags.pswdLength:\r\n        return \"error\";\r\n\r\n      default:\r\n        return \"warning\";\r\n    }\r\n  };\r\n  const handleMessage = (e) => {\r\n    if (errors === flags.none) return `Categoria actualizada`;\r\n    else if (errors === flags.empty) return `Hay campos vacíos`;\r\n    else if (errors === flags.slugNotValid) return `slug en uso`;\r\n    else if (errors === flags.pswdLength)\r\n      return `La contraseña debe tener almenos 6 caracteres`;\r\n  };\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    handleOpen: (open) => {\r\n      setOpen(open);\r\n    },\r\n  }));\r\n\r\n  const boxStyle = {\r\n    position: \"absolute\",\r\n    width: 400,\r\n    border: \"2px solid rgb(25 118 210)\",\r\n    boxShadow: 24,\r\n    p: 4,\r\n    backgroundColor: \"white\",\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      style={{\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"modal-modal-title\"\r\n      aria-describedby=\"modal-modal-description\"\r\n    >\r\n      <Box sx={boxStyle}>\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n          }}\r\n        >\r\n          <TextField\r\n            margin=\"normal\"\r\n            id=\"outlined-name-input\"\r\n            label=\"Nombre Categoria\"\r\n            type=\"text\"\r\n            value={name}\r\n            onChange={(e) => {\r\n              setName(e.target.value);\r\n            }}\r\n          />\r\n\r\n          <TextField\r\n            margin=\"normal\"\r\n            id=\"outlined-slug-input\"\r\n            label=\"Slug\"\r\n            type=\"text\"\r\n            value={slug}\r\n            onChange={(e) => {\r\n              setslug(e.target.value);\r\n            }}\r\n          />\r\n\r\n          {alert === true && (\r\n            <Alert severity={handleSeverity()} style={{ marginBottom: \"10px\" }}>\r\n              {handleMessage()}\r\n            </Alert>\r\n          )}\r\n          <Button variant=\"contained\" type=\"submit\">\r\n            Guardar\r\n          </Button>\r\n        </form>\r\n      </Box>\r\n    </Modal>\r\n  );\r\n});\r\n\r\nfunction CategoriesTableRow({ row }) {\r\n  const updateModalRef = React.useRef();\r\n  const handleClick = () => {\r\n    updateModalRef.current.handleOpen(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <UpdateModalForm data={row} ref={updateModalRef} />\r\n\r\n      <TableRow>\r\n        <TableCell align=\"center\">{row.name} </TableCell>\r\n        <TableCell align=\"center\">{row.slug} </TableCell>\r\n        <TableCell>\r\n          <IconButton style={{ cursor: \"pointer\" }} onClick={handleClick}>\r\n            <EditIcon />\r\n          </IconButton>\r\n        </TableCell>\r\n      </TableRow>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction CategoriesTable({ titles, rows }) {\r\n  const [content, setContent] = React.useState(rows || []);\r\n\r\n  React.useEffect(() => {\r\n    setContent(rows);\r\n  }, [rows]);\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            {titles.map((title, idx) => (\r\n              <TableCell\r\n                align=\"center\"\r\n                key={idx}\r\n                style={{ fontWeight: \"bold\" }}\r\n              >\r\n                {title}\r\n              </TableCell>\r\n            ))}\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {content.map((row) => (\r\n            <CategoriesTableRow row={row} key={row._id} />\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n\r\nexport { CategoriesTable };\r\n","import React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { Box } from \"@mui/system\";\r\nimport { Modal, TextField } from \"@mui/material\";\r\nimport { Select } from \"@mui/material\";\r\nimport { InputLabel } from \"@mui/material\";\r\nimport { MenuItem } from \"@mui/material\";\r\nimport { Alert } from \"@mui/material\";\r\n\r\nimport { UsersTable } from \"./UsersTable\";\r\nimport { addCategory } from \"../../api\";\r\nimport { CategoriesTable } from \"./CategoriesTable\";\r\n\r\nconst FormModal = React.forwardRef((props, ref) => {\r\n  const flags = {\r\n    none: 0,\r\n    empty: 1,\r\n    unknown: 2,\r\n    alreadyRegistered: 3,\r\n  };\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\tconst [name, setName] = React.useState(\"\");\r\n\tconst [slug, setSlug] = React.useState(\"\");\r\n\r\n  const [errors, setErrors] = React.useState(flags.none);\r\n  const [alert, setAlert] = React.useState(false);\r\n\r\n  const boxStyle = {\r\n    position: \"absolute\",\r\n    width: 400,\r\n    border: \"2px solid rgb(25 118 210)\",\r\n    boxShadow: 24,\r\n    p: 4,\r\n    backgroundColor: \"white\",\r\n  };\r\n\r\n  const handleClose = () => setOpen(false);\r\n\r\n  const handleChangeSlug = (e) => {\r\n    setSlug(e.target.value);\r\n  };\r\n\r\n  const handleSeverity = () => {\r\n    switch (errors) {\r\n      case flags.none:\r\n        return \"success\";\r\n\t\t\t\tcase flags.empty:\r\n\t\t\t\tcase flags.unknown:\r\n        return \"error\";\r\n\r\n      default:\r\n        return \"warning\";\r\n    }\r\n  };\r\n\r\n  const handleMessage = () => {\r\n    if (errors === flags.none) return `Categoria registrada`;\r\n    else if (errors === flags.empty) return `Hay campos vacíos`;\r\n    else if (errors === flags.unknown) return `Error desconocido`;\r\n    else if (errors === flags.alreadyRegistered) return `La categoria ya existe`;\r\n\t};\r\n\t\r\n\tconst postCategory = async (data) => {\r\n\t\tlet resp = await addCategory(data)\r\n\t\tresp = await resp.json()\r\n\t\tconsole.log('postCategory -> ', resp)\r\n\t\tif (resp.message === \"Ha ocurrido un error\") {\r\n\t\t\tsetErrors(flags.unknown)\r\n\t\t} else {\r\n\t\t\tsetErrors(flags.none)\r\n\t\t\twindow.location.reload(false);\r\n\t\t}\r\n\t}\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setAlert(true);\r\n\r\n    if (\r\n\t\t\tname === \"\" ||\r\n\t\t\tslug === \"\"\r\n    ) {\r\n      setErrors(flags.empty);\r\n      return;\r\n    }\r\n    //all ok\r\n    const data = {\r\n      name,\r\n      slug,\r\n    };\r\n    postCategory(data)\r\n  };\r\n\r\n  React.useImperativeHandle(ref, () => ({\r\n    handleOpen: (open) => {\r\n      setOpen(open);\r\n    },\r\n  }));\r\n\r\n  return (\r\n    <Modal\r\n      style={{\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"modal-modal-title\"\r\n      aria-describedby=\"modal-modal-description\"\r\n    >\r\n      <Box sx={boxStyle}>\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n          }}\r\n        >\r\n          <TextField\r\n            margin=\"normal\"\r\n            id=\"outlined-category-input\"\r\n            label=\"Nombre de la categoria\"\r\n            type=\"text\"\r\n            value={name}\r\n            onChange={(e) => {\r\n              setName(e.target.value);\r\n            }}\r\n          />\r\n          <TextField\r\n            margin=\"normal\"\r\n            id=\"outlined-name-input\"\r\n            label=\"Slug\"\r\n            type=\"text\"\r\n            value={slug}\r\n            onChange={(e) => {\r\n              setSlug(e.target.value);\r\n            }}\r\n          />\r\n\r\n          {alert === true && (\r\n            <Alert severity={handleSeverity()} style={{ marginBottom: \"10px\" }}>\r\n              {handleMessage()}\r\n            </Alert>\r\n          )}\r\n          <Button variant=\"contained\" type=\"submit\">\r\n            Crear\r\n          </Button>\r\n        </form>\r\n      </Box>\r\n    </Modal>\r\n  );\r\n});\r\n\r\n//TODO: Rename this Component\r\nfunction CategoriesCard({ type, titles, rows }) {\r\n  const addModalRef = React.useRef();\r\n\r\n  const handleClick = () => {\r\n    addModalRef.current.handleOpen(true);\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: \"1rem\" }}>\r\n      <FormModal ref={addModalRef} />\r\n      <Box display=\"flex\" justifyContent=\"flex-end\" mb=\"1rem\">\r\n        <Button variant=\"contained\" onClick={handleClick}>\r\n          {`Crear ${type}`}\r\n        </Button>\r\n      </Box>\r\n      <CategoriesTable titles={[...titles, \"\"]} rows={rows} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { CategoriesCard };\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { CategoriesCard } from '../../../components/admin/CategoriesCard'\r\n\r\nimport { getCategories } from \"../../../api\";\r\nimport { setDashboardTitle } from \"../../../actions/ui\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst Home = () => {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch( setDashboardTitle('Categorías') )\r\n  }, [])\r\n\r\n\r\n  const [categories, setCategories] = useState([]);\r\n  useEffect(() => {\r\n    const getFromBkend = async () => {\r\n      let resp = await getCategories();\r\n      resp = await resp.json()\r\n      setCategories(resp)\r\n    };\r\n\r\n    getFromBkend()\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <CategoriesCard\r\n        type=\"categoria\"\r\n        titles={['Nombre', 'Slug']}\r\n        rows={categories}\r\n      ></CategoriesCard>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { Box } from \"@mui/system\";\r\nimport { Modal, TextField } from \"@mui/material\";\r\nimport { Select } from \"@mui/material\";\r\nimport { InputLabel } from \"@mui/material\";\r\nimport { MenuItem } from \"@mui/material\";\r\nimport { Alert } from \"@mui/material\";\r\n\r\nimport { UsersTable } from \"./UsersTable\";\r\nimport { postUser } from \"../../api\"\r\n\r\n\r\nconst FormModal = React.forwardRef((props, ref) => {\r\n\r\n  const flags = {\r\n    none: 0,\r\n    empty: 1,\r\n    mismatch: 2,\r\n    alreadyRegistered: 3,\r\n  };\r\n\r\n  const stat = {\r\n    inactive: 0,\r\n    active: 1,\r\n  }\r\n  \r\n  const [open, setOpen]             = React.useState(false);\r\n  const [name, setName]             = React.useState(\"\");\r\n  const [role, setRole]             = React.useState(\"editor\");\r\n  const [email, setEmail]           = React.useState(\"\");\r\n  const [pswd, setPswd]             = React.useState(\"\");\r\n  const [repeatPswd, setRepeatPswd] = React.useState(\"\");\r\n  const [status, setStatus] = React.useState(stat.active);\r\n  const [errors, setErrors] = React.useState(flags.none);\r\n  const [alert, setAlert] = React.useState(false);\r\n\r\n  const boxStyle = {\r\n    position: \"absolute\",\r\n    width: 400,\r\n    border: \"2px solid rgb(25 118 210)\",\r\n    boxShadow: 24,\r\n    p: 4,\r\n    backgroundColor: \"white\",\r\n  };\r\n\r\n  const handleClose = () => setOpen(false);\r\n\r\n  const handleChangeRole = (e) => {\r\n    setRole(e.target.value)\r\n  }\r\n  \r\n  const handleChangeStatus = (e) => {\r\n    setStatus(e.target.value)\r\n  }\r\n\r\n  const handleSeverity = () => {\r\n    switch (errors) {\r\n      case flags.none:\r\n        return 'success'\r\n      case flags.alreadyRegistered:\r\n      case flags.empty:\r\n      case flags.mismatch:\r\n        return 'error'\r\n    \r\n      default:\r\n        return 'warning'\r\n    }\r\n  }\r\n\r\n  const handleMessage = () => {\r\n    if (errors === flags.none) return `Usuario registrado`\r\n    else if(errors === flags.empty) return `Hay campos vacíos`\r\n    else if(errors === flags.mismatch) return `Contraseña no coincide`\r\n    else if(errors === flags.alreadyRegistered) return `El usuario ya existe`\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    setAlert(true)\r\n    //TODO: check if email (and password?) was already registered\r\n    \r\n    if (name === '' || email === '' ||\r\n      role === '' || pswd === '' ||\r\n      repeatPswd === '')\r\n    {\r\n      setErrors(flags.empty)\r\n      return\r\n    }\r\n    \r\n    if (pswd !== repeatPswd)\r\n    {\r\n      setErrors(flags.mismatch)\r\n      return\r\n    }\r\n    //all ok\r\n    const data = {\r\n      name,\r\n      email,\r\n      password: pswd,\r\n      status,\r\n      role,\r\n    };\r\n\r\n    postUser(data)\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data.message === 'El usuario ya existe.') {\r\n          setErrors(flags.alreadyRegistered)\r\n        }\r\n        else {\r\n          setErrors(flags.none)\r\n          window.location.reload(false);\r\n        }\r\n      })\r\n  }\r\n\r\n  React.useImperativeHandle(ref, () => ({\r\n    handleOpen: (open) => {\r\n      setOpen(open);\r\n    },\r\n  }));\r\n\r\n  return (\r\n    <Modal\r\n      style={{\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"modal-modal-title\"\r\n      aria-describedby=\"modal-modal-description\"\r\n    >\r\n      <Box sx={boxStyle}>\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"center\",\r\n          }}\r\n        >\r\n          <TextField\r\n            margin=\"normal\"\r\n            id=\"outlined-name-input\"\r\n            label=\"Nombre completo\"\r\n            type=\"text\"\r\n            value={name}\r\n            onChange={(e) => {\r\n              setName(e.target.value);\r\n            }}\r\n          />\r\n\r\n          <InputLabel>Rol</InputLabel>\r\n          <Select\r\n            labelId=\"rol\"\r\n            id=\"role\"\r\n            value={role}\r\n            label=\"Rol\"\r\n            onChange={handleChangeRole}\r\n          >\r\n            <MenuItem value={`admin`}>Admin</MenuItem>\r\n            <MenuItem value={`editor`}>Editor</MenuItem>\r\n          </Select>\r\n          \r\n          <InputLabel>Status</InputLabel>\r\n          <Select\r\n            labelId=\"status\"\r\n            id=\"status\"\r\n            value={status}\r\n            label=\"Status\"\r\n            onChange={handleChangeStatus}\r\n          >\r\n            <MenuItem value={stat.active}>Activo</MenuItem>\r\n            <MenuItem value={stat.inactive}>Inactivo</MenuItem>\r\n          </Select>\r\n\r\n          <TextField\r\n            margin=\"normal\"\r\n            id=\"outlined-email-input\"\r\n            label=\"Email\"\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => {\r\n              setEmail(e.target.value);\r\n            }}\r\n          />\r\n          <TextField\r\n            margin=\"normal\"\r\n            id=\"outlined-password-input\"\r\n            label=\"Contraseña\"\r\n            type=\"password\"\r\n            autoComplete=\"current-password\"\r\n            value={pswd}\r\n            onChange={(e) => {\r\n              setPswd(e.target.value);\r\n            }}\r\n          />\r\n          <TextField\r\n            margin=\"normal\"\r\n            id=\"outlined-confirm-password-input\"\r\n            label=\"Confirmar Contraseña\"\r\n            type=\"password\"\r\n            autoComplete=\"current-password\"\r\n            value={repeatPswd}\r\n            onChange={(e) => {\r\n              setRepeatPswd(e.target.value);\r\n            }}\r\n          />\r\n          {alert === true && (\r\n            <Alert severity={handleSeverity()} style={{marginBottom:'10px'}}>\r\n              {handleMessage()}\r\n            </Alert>\r\n          )}\r\n          <Button variant=\"contained\" type=\"submit\">\r\n            Crear\r\n          </Button>\r\n        </form>\r\n      </Box>\r\n    </Modal>\r\n  );\r\n});\r\n\r\n//TODO: Rename this Component\r\nfunction Card({ type, titles, rows }) {\r\n  const addModalRef = React.useRef();\r\n\r\n  const handleClick = () => {\r\n    addModalRef.current.handleOpen(true);\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: \"1rem\" }}>\r\n      <FormModal ref={addModalRef} />\r\n      <Box display=\"flex\" justifyContent=\"flex-end\" mb=\"1rem\">\r\n        <Button variant=\"contained\" onClick={handleClick}>\r\n          {`Crear ${type}`}\r\n        </Button>\r\n      </Box>\r\n      <UsersTable titles={[...titles, \"\"]} rows={rows} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Card };\r\n","import React, { useEffect } from 'react'\r\nimport { Card } from '../../../components/admin/UsersCard'\r\nimport { getUsers } from \"../../../api\";\r\nimport { useDispatch } from 'react-redux';\r\nimport { setDashboardTitle } from '../../../actions/ui';\r\n\r\nconst Home = () => {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch( setDashboardTitle('Usuarios') )\r\n  }, [])\r\n\r\n  const titles = ['Status', 'Nombre', 'Email', 'Rol']\r\n  \r\n  const [users, setUsers] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    getUsers()\r\n      .then((resp) => resp.json())\r\n      .then((resp) => {\r\n        setUsers(resp);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"users\">\r\n      <Card\r\n        type='usuario'\r\n        titles={titles}\r\n        rows={users}\r\n      >\r\n        \r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React, { useEffect } from 'react'\r\nimport { Route, Routes } from 'react-router'\r\n\r\n// Dashboard\r\nimport DashboardLayout from '../layouts/DashboardLayout'\r\nimport AdminHome from '../views/admin/AdminHome'\r\n// Products\r\nimport ProductsHome from '../views/admin/products/ProductsHome'\r\nimport ProductCreate from '../views/admin/products/ProductCreate'\r\nimport ProductEdit from '../views/admin/products/ProductEdit'\r\nimport ProductShow from '../views/admin/products/ProductShow'\r\n// Categories\r\nimport CategoriesHome from '../views/admin/categories/CategoriesHome'\r\n// Users\r\nimport UsersHome from '../views/admin/users/UsersHome'\r\n\r\n\r\n\r\nconst DashboardRouter = () => {\r\n\r\n  useEffect(() => {\r\n    let htmlTag = document.getElementById('htmlTag')\r\n    htmlTag.style.fontSize = '16px';\r\n    return () => {\r\n      htmlTag.style.fontSize = '10px';\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <DashboardLayout>\r\n      <Routes>\r\n\r\n        <Route path=\"/\" element={ <AdminHome /> } />\r\n\r\n        <Route path=\"/products\" element={ <ProductsHome /> } />\r\n        <Route path=\"/products/create\" element={ <ProductCreate /> } />\r\n        <Route path=\"/products/edit/:id\" element={ <ProductEdit /> } />\r\n        <Route path=\"/products/show\" element={ <ProductShow /> } />\r\n\r\n        <Route path=\"/categories\" element={ <CategoriesHome /> } />\r\n\r\n        <Route path=\"/users\" element={ <UsersHome /> } />\r\n\r\n      </Routes>\r\n    </DashboardLayout>\r\n  )\r\n}\r\n\r\nexport default DashboardRouter\r\n","import React, { useContext, useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useNavigate, useLocation, Navigate } from 'react-router'\r\n// import { Redirect } from 'react-router-dom'\r\n// import { AuthContext } from '../auth/authContext'\r\n\r\nconst PrivateRouter = ({ children }) => {\r\n\r\n  // const { user } = useContext(AuthContext)\r\n  \r\n  const auth = useSelector(state => state.auth)\r\n  \r\n  \r\n  const navigate = useNavigate()\r\n\r\n  const { pathname, search } = useLocation()\r\n\r\n  localStorage.setItem('lastPath', pathname + search)\r\n\r\n  return auth.logged\r\n  ? children\r\n  : <Navigate to=\"/login\" />\r\n}\r\n\r\nexport default PrivateRouter\r\n","import React, { useContext } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Navigate } from 'react-router'\r\nimport { AuthContext } from '../auth/authContext'\r\n\r\nconst PublicRouter = ({ children }) => {\r\n  \r\n  const auth = useSelector(state => state.auth)\r\n\r\n  const { user } = useContext(AuthContext)\r\n\r\n  const lastPath = localStorage.getItem('lastPath')\r\n\r\n  return !auth.logged\r\n  ? children\r\n  : <Navigate to={ lastPath } />\r\n}\r\n\r\nexport default PublicRouter\r\n","import React, { useEffect, useState } from 'react'\r\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\r\n\r\nimport Home from '../views/Home';\r\nimport Productos from \"../views/Productos\";\r\nimport Producto from \"../views/Producto\";\r\nimport Categoria from '../views/Categoria';\r\nimport Nosotros from \"../views/Nosotros\";\r\nimport Contacto from \"../views/Contacto\";\r\n\r\nimport Login from \"../views/login/Login\"\r\n\r\nimport DashboardRouter from './DashboardRouter';\r\nimport PrivateRouter from './PrivateRouter';\r\nimport PublicRouter from './PublicRouter';\r\n\r\nconst AppRouter = () => {\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Routes>\r\n        \r\n        <Route path=\"/\" element={<Home />} />\r\n        <Route path=\"productos\" element={<Productos />} />\r\n        <Route path=\"productos/:slug\" element={<Producto />} />\r\n        <Route path=\"categorias/:slug\" element={<Categoria />} />\r\n        <Route path=\"nosotros\" element={<Nosotros />} />\r\n        <Route path=\"contacto\" element={<Contacto />} />\r\n\r\n        <Route path=\"login\" \r\n          element={\r\n            <PublicRouter>\r\n              <Login />\r\n            </PublicRouter>\r\n          }\r\n        />\r\n\r\n        <Route path=\"admin/*\" \r\n          element={ \r\n            <PrivateRouter>\r\n              <DashboardRouter /> \r\n            </PrivateRouter>\r\n          }\r\n        />\r\n        \r\n      </Routes>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default AppRouter\r\n","import React, { useEffect, useReducer, useState } from \"react\"\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { login, logout } from \"./actions/auth\"\r\nimport { setCategories } from \"./actions/data\"\r\nimport { getCategories } from \"./api\"\r\nimport { AuthContext } from \"./auth/authContext\"\r\nimport { authReducer } from \"./reducers/authReducer\"\r\nimport AppRouter from './routers/AppRouter'\r\n\r\nconst init = () => {\r\n  return JSON.parse(localStorage.getItem('user')) || { logged: false }\r\n}\r\n\r\nconst App = () => {\r\n  \r\n  const [userContext, dispatchContext] = useReducer(authReducer, {}, init)\r\n  \r\n  useEffect(() => {\r\n    if (!userContext) {\r\n      return\r\n    }\r\n    localStorage.setItem('user', JSON.stringify(userContext))\r\n  }, [userContext])\r\n  \r\n  // ---------- //\r\n  \r\n  const [user, setUser] = useState(init)\r\n\r\n  const [isLogged, setIsLogged] = useState(Boolean)\r\n\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  \r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    if (!user.logged) {\r\n      setIsLogged(false)\r\n      dispatch( logout() )\r\n    } \r\n    else {\r\n      setIsLogged(true)\r\n      localStorage.setItem('user', JSON.stringify(user))\r\n      dispatch( login( user.name ) )\r\n    }\r\n  }, [user])\r\n\r\n  useEffect(() => {\r\n    if (isLogged === true || isLogged === false) {\r\n      setIsLoading(false)\r\n    }\r\n  }, [isLogged])\r\n\r\n  // ----------- //\r\n\r\n  // const data = useSelector(state => state.data)\r\n\r\n  useEffect(() => {\r\n    getCategories()\r\n    .then(resp => resp.json())\r\n    .then(data => dispatch( setCategories(data) ) )\r\n  }, [])\r\n\r\n  if (isLoading) return <span>Cargando...</span>\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={\r\n        {\r\n          user: userContext,\r\n          dispatch: dispatchContext\r\n        }\r\n    }>\r\n      <AppRouter isLogged={ isLogged } />\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import { types } from \"../types/types\"\r\n\r\nexport const setCategories = (data) => {\r\n  return ({\r\n    type: types.setCategories,\r\n    payload: {\r\n      categories: data,\r\n    }\r\n  })\r\n}","import { createStore, combineReducers, compose, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { authReducer } from \"../reducers/authReducer\";\r\nimport { dataReducer } from \"../reducers/dataReducer\";\r\nimport { uiReducer } from \"../reducers/uiReducer\";\r\n\r\nconst reducers = combineReducers({\r\n  auth: authReducer,\r\n  data: dataReducer,\r\n  ui: uiReducer\r\n})\r\n\r\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\n\r\nexport const store = createStore(\r\n  reducers,\r\n  composeEnhancers(\r\n    applyMiddleware(thunk)\r\n  )\r\n)","import { types } from \"../types/types\";\r\n\r\nexport const dataReducer = (state = { }, action) => {\r\n  switch (action.type) {\r\n    case types.setCategories:\r\n      return {\r\n        ...action.payload,\r\n      }\r\n  \r\n    default:\r\n      return state;\r\n  }\r\n}","import { types } from \"../types/types\";\r\n\r\nexport const uiReducer = (state = { title: 'Dashboard' }, action) => {\r\n  switch (action.type) {\r\n    case types.setDashboardTitle:\r\n      return {\r\n        ...action.payload,\r\n      }\r\n  \r\n    default:\r\n      return state;\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\nimport { store } from './store/store';\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(\r\n  <Provider store={ store }>\r\n    <App />\r\n  </Provider>,\r\n  rootElement\r\n);"],"sourceRoot":""}